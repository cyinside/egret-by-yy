var App=function(){function t(){}var e=__define,i=t;i.prototype;return e(t,"Http",function(){return Http.getInstance()}),e(t,"Socket",function(){return Socket.getInstance()}),e(t,"ControllerManager",function(){return ControllerManager.getInstance()}),e(t,"DebugUtils",function(){return DebugUtils.getInstance()}),e(t,"MessageCenter",function(){return MessageCenter.getInstance(0)}),e(t,"TimerManager",function(){return TimerManager.getInstance()}),e(t,"DateUtils",function(){return DateUtils.getInstance()}),e(t,"MathUtils",function(){return MathUtils.getInstance()}),e(t,"RandomUtils",function(){return RandomUtils.getInstance()}),e(t,"DisplayUtils",function(){return DisplayUtils.getInstance()}),e(t,"StageUtils",function(){return StageUtils.getInstance()}),e(t,"EffectUtils",function(){return EffectUtils.getInstance()}),e(t,"StringUtils",function(){return StringUtils.getInstance()}),e(t,"CommonUtils",function(){return CommonUtils.getInstance()}),e(t,"DeviceUtils",function(){return DeviceUtils.getInstance()}),e(t,"EgretExpandUtils",function(){return EgretExpandUtils.getInstance()}),e(t,"KeyboardUtils",function(){return KeyboardUtils.getInstance()}),e(t,"RockerUtils",function(){return RockerUtils.getInstance()}),e(t,"ShockUtils",function(){return ShockUtils.getInstance()}),e(t,"ResourceUtils",function(){return ResourceUtils.getInstance()}),e(t,"RenderTextureManager",function(){return RenderTextureManager.getInstance()}),e(t,"TextFlowMaker",function(){return TextFlowMaker.getInstance()}),e(t,"NotificationCenter",function(){return null==t._notificationCenter&&(t._notificationCenter=new MessageCenter(1)),t._notificationCenter}),e(t,"DelayOptManager",function(){return DelayOptManager.getInstance()}),e(t,"ArrayUtils",function(){return ArrayUtils.getInstance()}),e(t,"ResVersionManager",function(){return ResVersionManager.getInstance()}),t.Init=function(){t.GlobalData=RES.getRes("global"),t.DebugUtils.isOpen(t.GlobalData.IsDebug),t.DebugUtils.setThreshold(5),t.EgretExpandUtils.init(),t.Http.initServer(t.GlobalData.HttpSerever)},t.ProxyUserFlag="",t.GlobalData=null,t.ProtoFile=null,t.ProtoConfig=null,t}();egret.registerClass(App,"App");var BaseClass=function(){function t(){}var e=(__define,t);e.prototype;return t.getInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=this;if(!i._instance){var n=t.length;0==n?i._instance=new i:1==n?i._instance=new i(t[0]):2==n?i._instance=new i(t[0],t[1]):3==n?i._instance=new i(t[0],t[1],t[2]):4==n?i._instance=new i(t[0],t[1],t[2],t[3]):5==n&&(i._instance=new i(t[0],t[1],t[2],t[3],t[4]))}return i._instance},t}();egret.registerClass(BaseClass,"BaseClass");var ConfigModel=function(){function t(){this.wx_default_title="",this.wx_title="",this.wx_friend_desx="",this.wx_default_friend_desx="",this.wx_share="",this.wx_share_img="",this.wx_link="",this.wx_share_link=""}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},i.initConfig=function(){var t=RES.getRes("config1");this.wx_default_title=t.wx_default_title.toString(),this.wx_title=t.wx_title.toString(),this.wx_friend_desx=t.wx_friend_desx.toString(),this.wx_default_friend_desx=t.wx_default_friend_desx.toString(),this.wx_share=t.wx_share.toString();var e=location.href.split("#")[0];this.wx_share_link=e.substring(0,e.indexOf("index.html")+10),this.wx_share_img="http://www.joyoungfeld-ad.com/zhaoyang/app/getPrize3/1/resource/assets/shareIcon.jpg"},i.updataShare=function(){JSSDK.getWeiXinShareTimeline(2,this.wx_default_friend_desx,this.wx_share_link,this.wx_share_img),JSSDK.getWeiXinShareAppMessage(2,this.wx_title,this.wx_share_link,this.wx_share_img,this.wx_friend_desx)},t.score=0,t.hole2Arr=new Array,t.timeSpeed=48,t}();egret.registerClass(ConfigModel,"ConfigModel");var GameApp=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.onAddToStage=function(t){RES.registerAnalyzer(RES.PropertiesAnalyzer.TYPE,RES.PropertiesAnalyzer),this.addChild(GameConfig.gameScene()),this.loadingView=new LoadingUI,this.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},n.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("preload")},n.onResourceLoadComplete=function(t){"preload"==t.groupName&&(ConfigModel.getInstance().initConfig(),SceneUtil.init(this),PopUpManager.removePopUp(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.removeChild(this.loadingView),this.createGameScene()),JSSDK.getSignPackage()},n.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},n.createGameScene=function(){Global.addEventListener(SceneEvent.CHANGE_SCENE,this.changScene,this),this.gotoScene(1)},n.changScene=function(t){var e=t.param.sceneID;this.gotoScene(e)},n.gotoScene=function(t){switch(t){case 1:this.startScene=SceneUtil.addScene(this.startScene,StartScene),SceneUtil.removeOtherSceneByTarget(this.startScene),StageUtil.setHorizontalCenter(this.startScene);break;case 2:this.scene1=SceneUtil.addScene(this.scene1,Scene1),SceneUtil.removeOtherSceneByTarget(this.scene1),StageUtil.setHorizontalCenter(this.scene1);break;case 99:this.maskScene=SceneUtil.addScene(this.maskScene,MaskScene),SceneUtil.removeOtherSceneByTarget(this.maskScene),StageUtil.setHorizontalCenter(this.maskScene)}},e}(egret.DisplayObjectContainer);egret.registerClass(GameApp,"GameApp");var GameSeting=function(){function t(){}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},i.pointLocation=function(t){var e=RES.getRes("config1"),i=[];switch(t){case 1:return i=e.chapter_1,console.log(i),i;case 2:return i=e.chapter_2,console.log(i),i;case 3:return i=e.chapter_3,console.log(i),i;case 4:return i=e.chapter_4,console.log(i),i;case 5:return i=e.chapter_5,console.log(i),i;case 6:i=[]}return i},i.setCenter=function(t,e){switch(e){case 0:t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2;break;case 1:t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t.x=320}},t.passNum=0,t.chapterNum=5,t.maxTouchNum=5,t}();egret.registerClass(GameSeting,"GameSeting");var LoadingUI=function(t){function e(){t.call(this),this.createView()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},n.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.onAddToStage=function(t){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},n.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("preload")},n.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.createGameScene())},n.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},n.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},n.createGameScene=function(){var t=this.createBitmapByName("bgImage");this.addChild(t);var e=this.stage.stageWidth,i=this.stage.stageHeight;t.width=e,t.height=i;var n=new egret.Shape;n.graphics.beginFill(0,.5),n.graphics.drawRect(0,0,e,i),n.graphics.endFill(),n.width=e,n.height=i,this.addChild(n);var s=this.createBitmapByName("egretIcon");this.addChild(s),s.scaleX=.55,s.scaleY=.55,s.anchorOffsetX=s.width/2,s.anchorOffsetY=s.height/2,s.x=e/2,s.y=i/2-60;var r=new egret.TextField;r.textColor=16777215,r.textAlign="center",r.text="Hello Egret",r.size=20,r.x=e-r.width>>1,r.y=(i-r.height>>1)+50,this.addChild(r);var a=new egret.TextField;this.addChild(a),a.alpha=0,a.width=e,a.textAlign=egret.HorizontalAlign.CENTER,a.x=0,a.y=i/2+100,this.textfield=a,RES.getResAsync("description",this.startAnimation,this)},n.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},n.startAnimation=function(t){for(var e=this,i=new egret.HtmlTextParser,n=[],s=0;s<t.length;s++)n.push(i.parser(t[s]));var r=e.textfield,a=-1,o=function(){a++,a>=n.length&&(a=0);var t=n[a];e.changeDescription(r,t);var i=egret.Tween.get(r);i.to({alpha:1},200),i.wait(2e3),i.to({alpha:0},200),i.call(o,e)};o()},n.changeDescription=function(t,e){t.textFlow=e},e}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var ThemeAdapter=function(){function t(){}var e=(__define,t),i=e.prototype;return i.getTheme=function(t,e,i,n){function s(t){e.call(n,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);var BasePanel=function(t){function e(e){void 0===e&&(e="assets"),t.call(this),this.w=0,this.h=0,this.assets=RES.getRes(e),this.w=GameConfig.curWidth(),this.h=GameConfig.curHeight(),this.initPanel()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initPanel=function(){},n.initData=function(){},n.onEnter=function(){},n.onExit=function(){},n.closePanel=function(){PopUpManager.removePopUp(this)},n.getWidth=function(){return this.width},n.getHeight=function(){return this.height},e}(egret.DisplayObjectContainer);egret.registerClass(BasePanel,"BasePanel");var AlertPanel=function(t){function e(e,i,n,s,r){void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n=null),void 0===s&&(s=null),void 0===r&&(r=1),t.call(this),this.titleStr="",this.descStr="",this.type=1,this.titleStr=e,this.descStr=i,this.cancelFun=n,this.acceptFun=s,this.type=r,this.initUI()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initUI=function(){this.bg=new egret.Bitmap,this.bg.texture=this.assets.getTexture("alertBg"),this.addChild(this.bg),this.bg.touchEnabled=!0,""!=this.titleStr&&(this.titleTF=new egret.TextField,this.addChild(this.titleTF),this.titleTF.textColor=0,this.titleTF.size=24,this.titleTF.width=this.bg.width,this.titleTF.height=24,this.titleTF.y=23,this.titleTF.textAlign="center",this.titleTF.text=this.titleStr),""!=this.descStr&&(this.descTF=new egret.TextField,this.addChild(this.descTF),this.descTF.textColor=0,this.descTF.size=20,this.descTF.width=this.bg.width,this.descTF.height=24,this.descTF.y=this.bg.height/2-this.descTF.height/2+10,this.descTF.textAlign="center",this.descTF.text=this.descStr);var t=this,e=function(e){null!=t.cancelFun&&t.cancelFun(),Global.dispatchEvent(MainNotify.closeAlertNotify)},i=function(e){null!=t.acceptFun&&t.acceptFun(),Global.dispatchEvent(MainNotify.closeAlertNotify)};this.acceptBtn=new EButton(this,"acceptBtn",i),this.addChild(this.acceptBtn),1==this.type?(this.acceptBtn.x=this.bg.width/2-this.acceptBtn.width/2,this.acceptBtn.y=this.bg.height-this.acceptBtn.height/2-10):(this.cancelBtn=new EButton(this,"cancelBtn",e),this.cancelBtn.x=110,this.cancelBtn.y=this.bg.height-this.cancelBtn.height/2-10,this.addChild(this.cancelBtn),this.acceptBtn.x=this.bg.width-this.acceptBtn.width-60-50,this.acceptBtn.y=this.bg.height-this.acceptBtn.height/2-10)},n.getWidth=function(){return this.bg.width},n.getHeight=function(){return this.bg.height},e}(BasePanel);egret.registerClass(AlertPanel,"AlertPanel");var EButton=function(t){function e(e,i,n,s,r,a,o){void 0===n&&(n=null),void 0===s&&(s=""),void 0===r&&(r=30),void 0===a&&(a=1),void 0===o&&(o="assets"),t.call(this),this.assets=RES.getRes("assets"),this.isPlayCartoon=!1,this.cartoonType=1,this.param={context:null,data:null},this.param.context=e,this.init(i,n,s,r,a,o)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(t,e,i,n,s,r){void 0===e&&(e=null),void 0===i&&(i=""),void 0===n&&(n=30),void 0===s&&(s=1),void 0===r&&(r="assets"),this.cartoonType=s,this.backFun=e,this.btnImg=new egret.Bitmap,"assets"!=r&&(this.assets=RES.getRes(r)),this.btnImg.texture=this.assets.getTexture(t),this.addChild(this.btnImg),""!=i&&(this.textField=new egret.TextField,this.addChild(this.textField),this.textField.size=n,this.textField.textAlign="center",this.textField.stroke=1,this.textField.strokeColor=0,this.textField.text=i,this.textField.width=this.btnImg.width,this.textField.x=this.btnImg.width/2-this.textField.width/2,this.textField.y=this.btnImg.height/2-this.textField.height/2),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},n.onbuttonTouchTap=function(t){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var e=function(){this.isPlayCartoon=!1},i=function(){1==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.elasticOut).call(e,this):2==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.backOut).call(e,this):3==this.cartoonType&&egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},100).call(e,this)};egret.Tween.get(this).to({scaleX:.5,scaleY:.5,x:this.x+this.btnImg.width/4,y:this.y+this.btnImg.height/4},100,egret.Ease.sineIn).call(i,this),egret.setTimeout(function(){null!=this.backFun&&this.backFun.apply(this.param.context,[this.param.data])},this,300)}},n.setBindData=function(t){this.param.data=t},n.getBindData=function(){return this.param.data},n.getBitmap=function(){return this.btnImg},e}(egret.DisplayObjectContainer);egret.registerClass(EButton,"EButton");var EImage=function(t){function e(e){t.call(this),this._src=null,this._comp=!1,null!=e&&this.load(e)}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"src",function(){return this._src},function(t){this.load(t)}),e.$=function(t){var e=t.$;return delete t.$,t.onload=null,t.onerror=null,e},s.onLoadBack=function(t,e){if(e==this._src){if(t){var i=new egret.Texture;i._setBitmapData(t),this.texture=i}else this.texture=null;this._comp=!0}},s.load=function(t){if(this._src!=t||!this._comp)if(this._src=t,null!=t&&t.length>0){this._comp=!1;var i=new Image;i.$=this,i.onload=function(){e.$(this).onLoadBack(this,this.src)},i.onerror=function(){e.$(this).onLoadBack(this,this.src)},i.src=t}else this.texture=null,this._comp=!0},s.size=function(t,e){this.width=t,this.height=e},s.move=function(t,e){this.x=t,this.y=e},e.loadAsync=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new Image,s=new egret.Bitmap;return n.$=s,n.onload=function(){var t=this.$;delete this.$,this.onload=null,this.onerror=null;var n=new egret.Texture;n._setBitmapData(this),t.texture=n,null!=e&&e.apply(i,[t])},n.onerror=function(){var t=this.$;delete this.$,this.onload=null,this.onerror=null,t.texture=null,null!=e&&e.apply(i,null)},n.src=t,s},e}(egret.Bitmap);egret.registerClass(EImage,"EImage");var ETabBar=function(t){function e(e,i,n,s,r,a,o,h){void 0===s&&(s=null),void 0===r&&(r=[]),void 0===a&&(a=30),void 0===o&&(o=1),void 0===h&&(h="assets"),t.call(this),this.assets=RES.getRes("assets"),this.btnArr=[],this.descStrArr=[],this.isPlayCartoon=!1,this.cartoonType=1,this.isSelectIndex=0,this.imgNormalName="",this.imgSelectName="",this.param={context:null,data:null},this.param.context=e,this.imgNormalName=i,this.imgSelectName=n,this.descStrArr=r,this.init(e,s,r,a,o,h)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(t,e,i,n,s,r){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===n&&(n=30),void 0===s&&(s=1),void 0===r&&(r="assets"),this.cartoonType=s,this.backFun=e,"assets"!=r&&(this.assets=RES.getRes(r));for(var a=0;a<i.length;a++){var o=new EToggleButton(this,this.imgNormalName,this.imgSelectName,this.onSelectBack,i[a],n,s,r);o.setBindData(a),o.x=o.width*a,this.addChild(o),this.btnArr.push(o),0==a&&(o.setSelected(!0),o.setEnable(!1))}},n.onSelectBack=function(t){this.retset(),this.param.data=t,this.setSelectedIndex(t),this.backFun.apply(this.param.context,[this.param.data])},n.getSelectedIndex=function(){return this.isSelectIndex},n.setSelectedIndex=function(t){void 0===t&&(t=0),this.retset(),this.btnArr[t].setSelected(!0),this.isSelectIndex=t,this.btnArr[t].setEnable(!1)},n.setBindData=function(t){this.param.data=t},n.getBindData=function(){return this.param.data},n.retset=function(){for(var t=0;t<this.descStrArr.length;t++){var e=this.btnArr[t];e.setSelected(!1),e.setEnable(!0)}},e}(egret.DisplayObjectContainer);egret.registerClass(ETabBar,"ETabBar");var ETextField=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.setText=function(t){void 0===t&&(t="");var e=new egret.HtmlTextParser;this.textFlow=e.parser(t)},e}(egret.TextField);egret.registerClass(ETextField,"ETextField");var EToggleButton=function(t){function e(e,i,n,s,r,a,o,h){void 0===s&&(s=null),void 0===r&&(r=""),void 0===a&&(a=30),void 0===o&&(o=1),void 0===h&&(h="assets"),t.call(this),this.assets=RES.getRes("assets"),this.isPlayCartoon=!1,this.cartoonType=1,this.isSelected=!1,this.imgNormalName="",this.imgSelectName="",this.param={context:null,data:null},this.param.context=e,this.imgNormalName=i,this.imgSelectName=n,this.init(s,r,a,o,h)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(t,e,i,n,s){void 0===t&&(t=null),void 0===e&&(e=""),void 0===i&&(i=30),void 0===n&&(n=1),void 0===s&&(s="assets"),this.cartoonType=n,this.backFun=t,this.btnImg=new egret.Bitmap,"assets"!=s&&(this.assets=RES.getRes(s)),this.btnImg.texture=this.assets.getTexture(this.imgNormalName),this.addChild(this.btnImg),""!=e&&(this.textField=new egret.TextField,this.addChild(this.textField),this.textField.size=i,this.textField.textAlign="center",this.textField.bold=!0,this.textField.stroke=1,this.textField.strokeColor=6705737,this.textField.textColor=12432042,this.textField.text=e,this.textField.width=this.btnImg.width,this.textField.x=this.btnImg.width/2-this.textField.width/2,this.textField.y=this.btnImg.height/2-this.textField.height/2),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},n.onbuttonTouchTap=function(t){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var e=function(){this.isPlayCartoon=!1},i=function(){this.isSelected?this.btnImg.texture=this.assets.getTexture(this.imgNormalName):this.btnImg.texture=this.assets.getTexture(this.imgSelectName),this.isSelected=!this.isSelected,1==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.elasticOut).call(e,this):2==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.backOut).call(e,this):3==this.cartoonType&&egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},100).call(e,this)};egret.Tween.get(this).to({scaleX:.5,scaleY:.5,x:this.x+this.btnImg.width/4,y:this.y+this.btnImg.height/4},100,egret.Ease.sineIn).call(i,this),egret.setTimeout(function(){null!=this.backFun&&this.backFun.apply(this.param.context,[this.param.data])},this,200)}},n.getBitmap=function(){return this.btnImg},n.setBindData=function(t){this.param.data=t},n.getBindData=function(){return this.param.data},n.getSelected=function(){return this.isSelected},n.setEnable=function(t){this.touchEnabled=t},n.setSelected=function(t){this.isSelected=t,t?this.btnImg.texture=this.assets.getTexture(this.imgSelectName):this.btnImg.texture=this.assets.getTexture(this.imgNormalName)},e}(egret.DisplayObjectContainer);egret.registerClass(EToggleButton,"EToggleButton");var EToggleSwitch=function(t){function e(e,i,n,s,r,a){void 0===i&&(i=""),void 0===n&&(n=""),void 0===s&&(s=""),void 0===r&&(r=null),void 0===a&&(a="assets"),t.call(this),this.assets=RES.getRes("assets"),this.isPlayCartoon=!1,this.isSelected=!1,this.switchOffName="",this.switchOnName="",this.switchBarName="",this.param={context:null,data:null},this.param.context=e,this.switchOffName=i,this.switchOnName=n,this.switchBarName=s,this.init(r,a)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(t,e){void 0===t&&(t=null),void 0===e&&(e="assets"),this.backFun=t,this.switchOffImg=new egret.Bitmap,this.switchOnImg=new egret.Bitmap,this.switchBarImg=new egret.Bitmap,"assets"!=e&&(this.assets=RES.getRes(e)),this.switchOffImg.texture=this.assets.getTexture(this.switchOffName),this.addChild(this.switchOffImg),this.switchOnImg.texture=this.assets.getTexture(this.switchOnName),this.addChild(this.switchOnImg),this.switchOnImg.alpha=0,this.switchBarImg.texture=this.assets.getTexture(this.switchBarName),this.switchBarImg.x=5,this.switchBarImg.y=this.switchOffImg.height/2-this.switchBarImg.height/2+4,this.addChild(this.switchBarImg),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},n.onbuttonTouchTap=function(t){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var e=function(){this.isPlayCartoon=!1,this.isSelected=!this.isSelected,null!=this.backFun&&this.backFun.apply(this.param.context,[this.param.data])};this.isSelected?(egret.Tween.get(this.switchBarImg).to({x:5},400).call(e,this),egret.Tween.get(this.switchOffImg).to({alpha:1},400),egret.Tween.get(this.switchOnImg).to({alpha:0},400)):(egret.Tween.get(this.switchBarImg).to({x:this.switchOffImg.width-this.switchBarImg.width-6},400).call(e,this),egret.Tween.get(this.switchOffImg).to({alpha:0},400),egret.Tween.get(this.switchOnImg).to({alpha:1},400))}},n.setBindData=function(t){this.param.data=t},n.getBindData=function(){return this.param.data},n.getSelected=function(){return this.isSelected},e}(egret.DisplayObjectContainer);egret.registerClass(EToggleSwitch,"EToggleSwitch");var ShareIconRender=function(t){function e(){t.call(this),this.titleTF=new egret.TextField,this.weixinTF=new egret.TextField,this.qqzoneTF=new egret.TextField,this.sinaweiboTF=new egret.TextField,this.qqTF=new egret.TextField,this.renrenTF=new egret.TextField,this.qqweiboTF=new egret.TextField,this.doubanTF=new egret.TextField,this.assets=RES.getRes("socialIcon"),this.bg=new egret.Sprite,this.w=0,this.h=0,this.w=GameConfig.curWidth(),this.h=GameConfig.curHeight(),this.init()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(){this.bg.graphics.beginFill(16777215,.9),this.bg.graphics.drawRect(0,0,this.w,300),this.bg.graphics.endFill(),this.bg.width=this.w,this.bg.height=300,this.addChild(this.bg),this.bg.alpha=1,this.bg.touchEnabled=!0,this.titleTF.size=24,this.titleTF.textColor=0,this.titleTF.text="分享到",this.titleTF.x=this.w/2-this.titleTF.width/2,this.titleTF.y=10,this.titleTF.bold=!0,this.titleTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.titleTF);var t=40,e=130;this.weixinBtn=new EButton(this,"weixin",null,"",30,1,"socialIcon"),this.weixinBtn.x=20,this.weixinBtn.y=t,this.addChild(this.weixinBtn),this.weixinBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onWeixinBtnTouchTap,this),this.qqzoneBtn=new EButton(this,"qqzone",null,"",30,1,"socialIcon"),this.qqzoneBtn.x=this.weixinBtn.x+this.qqzoneBtn.width+20,this.qqzoneBtn.y=t,this.addChild(this.qqzoneBtn),this.qqzoneBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQQzoneBtnTouchTap,this),this.sinaweiboBtn=new EButton(this,"sinaweibo",null,"",30,1,"socialIcon"),this.sinaweiboBtn.x=this.qqzoneBtn.x+this.sinaweiboBtn.width+20,this.sinaweiboBtn.y=t,this.addChild(this.sinaweiboBtn),this.sinaweiboBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSinaweiboBtnTouchTap,this),this.qqBtn=new EButton(this,"qq",null,"",30,1,"socialIcon"),this.qqBtn.x=this.sinaweiboBtn.x+this.qqBtn.width+20,this.qqBtn.y=t,this.addChild(this.qqBtn),this.qqBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQQBtnTouchTap,this),this.renrenBtn=new EButton(this,"renren",null,"",30,1,"socialIcon"),this.renrenBtn.x=this.qqBtn.x+this.renrenBtn.width+20,this.renrenBtn.y=t,this.addChild(this.renrenBtn),this.renrenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRenrenBtnTouchTap,this),this.qqweiboBtn=new EButton(this,"qqweibo",null,"",30,1,"socialIcon"),this.qqweiboBtn.x=20,this.qqweiboBtn.y=e,this.addChild(this.qqweiboBtn),this.qqweiboBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQQweiboBtnTouchTap,this),this.doubanBtn=new EButton(this,"douban",null,"",30,1,"socialIcon"),this.doubanBtn.x=this.qqweiboBtn.x+this.doubanBtn.width+20,this.doubanBtn.y=e,this.addChild(this.doubanBtn),this.doubanBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDoubanBtnTouchTap,this);var i=16;this.weixinTF.size=i,this.weixinTF.textColor=0,this.weixinTF.text="微信",this.weixinTF.x=this.weixinBtn.x+this.weixinBtn.width/2-this.weixinTF.width/2,this.weixinTF.y=t+this.weixinBtn.height,this.weixinTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.weixinTF),this.qqzoneTF.size=i,this.qqzoneTF.textColor=0,this.qqzoneTF.text="QQ空间",this.qqzoneTF.x=this.qqzoneBtn.x+this.qqzoneBtn.width/2-this.qqzoneTF.width/2,this.qqzoneTF.y=t+this.qqzoneBtn.height,this.qqzoneTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.qqzoneTF),this.sinaweiboTF.size=i,this.sinaweiboTF.textColor=0,this.sinaweiboTF.text="新浪微博",this.sinaweiboTF.x=this.sinaweiboBtn.x+this.sinaweiboBtn.width/2-this.sinaweiboTF.width/2,this.sinaweiboTF.y=t+this.sinaweiboBtn.height,this.sinaweiboTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.sinaweiboTF),this.qqTF.size=i,this.qqTF.textColor=0,this.qqTF.text="QQ好友",this.qqTF.x=this.qqBtn.x+this.qqBtn.width/2-this.qqTF.width/2,this.qqTF.y=t+this.qqBtn.height,this.qqTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.qqTF),this.renrenTF.size=i,this.renrenTF.textColor=0,this.renrenTF.text="人人网",this.renrenTF.x=this.renrenBtn.x+this.renrenBtn.width/2-this.renrenTF.width/2,this.renrenTF.y=t+this.renrenBtn.height,this.renrenTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.renrenTF),this.qqweiboTF.size=i,this.qqweiboTF.textColor=0,this.qqweiboTF.text="QQ微博",this.qqweiboTF.x=this.qqweiboBtn.x+this.qqweiboBtn.width/2-this.qqweiboTF.width/2,this.qqweiboTF.y=e+this.qqweiboBtn.height,this.qqweiboTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.qqweiboTF),this.doubanTF.size=i,this.doubanTF.textColor=0,this.doubanTF.text="豆瓣广播",this.doubanTF.x=this.doubanBtn.x+this.doubanBtn.width/2-this.doubanTF.width/2,this.doubanTF.y=e+this.doubanBtn.height,this.doubanTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.doubanTF)},n.onWeixinBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"micromessenger")},n.onQQzoneBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"qzone")},n.onSinaweiboBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"weibo")},n.onQQBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"qq")},n.onRenrenBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"renren")},n.onQQweiboBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"txmicroblog")},n.onDoubanBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"douban")},e}(egret.DisplayObjectContainer);egret.registerClass(ShareIconRender,"ShareIconRender");var TipsManager;!function(t){function e(t,e,i){void 0===e&&(e=""),void 0===i&&(i=0),null==this._dict&&(this._dict=[]),t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.showTips,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.removeTips,this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.removeTips,this),null==this._dict[t.hashCode]&&(this._dict[t.hashCode]=[],this._dict[t.hashCode].descStr=e,this._dict[t.hashCode].effectType=i)}function i(t){var e=t.currentTarget,i="",n=0;if(null==this._tips){null!=this._dict[e.hashCode]&&(i=this._dict[e.hashCode].descStr,n=this._dict[e.hashCode].effectType),this._tips=new TipsPanel(this._dict[e.hashCode].descStr),GameConfig.gameScene().topLayer.contains(this._tips)||GameConfig.gameScene().topLayer.addChild(this._tips);var s=e.parent.localToGlobal(e.x,e.y);switch(s.x=s.x+e.width/2,s.y=s.y-this._tips.height,s.x+this._tips.width>GameConfig.curWidth()?s.x=GameConfig.curWidth()-this._tips.width:s.x<0&&(s.x=0),s.y+this._tips.height>GameConfig.curHeight()?s.y=GameConfig.curHeight()-this._tips.height:s.y<0&&(s.y=0),this._tips.x=s.x,this._tips.y=s.y,n){case 0:this._tips.alpha=0,egret.Tween.get(this._tips).to({alpha:1},300);break;case 1:this._tips.alpha=0,this._tips.y+=this._tips.height,egret.Tween.get(this._tips).to({alpha:1,y:this._tips.y-this._tips.height},500,egret.Ease.backOut);break;case 2:this._tips.alpha=0,this._tips.x-=this._tips.width,egret.Tween.get(this._tips).to({alpha:1,x:this._tips.x+this._tips.width},500,egret.Ease.backOut);break;case 3:this._tips.alpha=0,this._tips.x+=this._tips.width,egret.Tween.get(this._tips).to({alpha:1,x:this._tips.x-this._tips.width},500,egret.Ease.backOut)}}}function n(t){t.currentTarget;if(null!=this._tips){var e=function(){GameConfig.gameScene().topLayer.contains(this._tips)&&(GameConfig.gameScene().topLayer.removeChild(this._tips),this._tips=null)};egret.Tween.get(this._tips).to({alpha:0},300).call(e,this)}}t.addTips=e,t.showTips=i,t.removeTips=n}(TipsManager||(TipsManager={}));var TipsPanel=function(t){function e(e){void 0===e&&(e=""),t.call(this),this.descStr="",this.descStr=e,this.initUI()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initUI=function(){this.bg=new egret.Bitmap,this.bg.texture=this.assets.getTexture("tipsBg"),this.addChild(this.bg),this.bg.touchEnabled=!0,this.descTF=new egret.TextField,this.addChild(this.descTF),this.descTF.textColor=0,this.descTF.size=20,this.descTF.x=5,this.descTF.textAlign="center",this.descTF.text=this.descStr;var t=new egret.Rectangle(5,5,5,5);this.bg.scale9Grid=t,this.bg.width=this.descTF.width+10,this.bg.height=3*this.descTF.height,this.descTF.y=this.bg.height/2-this.descTF.height/2+2},e}(BasePanel);egret.registerClass(TipsPanel,"TipsPanel");var GameConfig;!function(t){function e(){var t=window.navigator.userAgent.toLowerCase(),e=""+t.match(/MicroMessenger/i);return"null"==e?!1:"micromessenger"==e?!0:void 0}function i(){return document.body.clientHeight/document.body.clientWidth>1.32}function n(){var t=window.navigator.userAgent.toLowerCase();""+t.match(/MicroMessenger/i);return""+t.match(/windows nt/i)=="windows nt"?"windows":""+t.match(/iphone/i)=="iphone"?"ios":""+t.match(/android/i)=="android"?"android":""+t.match(/ipad/i)=="ipad"?"ipad":""+t.match(/linux/i)=="linux"?"linux":""+t.match(/mac/i)=="mac"?"mac":""+t.match(/ucbrower/i)=="ucbrower"?"ucbrower":void console.log("未知系统类型")
}function s(){var t=window.navigator.userAgent.toLowerCase();return""+t.match(/micromessenger/i)=="micromessenger"?"micromessenger":""+t.match(/qzone/i)=="qzone"?"qzone":""+t.match(/weibo/i)=="weibo"?"weibo":""+t.match(/qq/i)=="qq"?"qq":""+t.match(/renren/i)=="renren"?"renren":""+t.match(/txmicroblog/i)=="txmicroblog"?"txmicroblog":""+t.match(/douban/i)=="douban"?"douban":"other"}function r(){return null==this.curScene&&(this.curScene=new GameScene),this.curScene}function a(){return egret.MainContext.instance.stage}function o(){return egret.MainContext.instance.stage.stageWidth}function h(){return egret.MainContext.instance.stage.stageHeight}function c(){var t=window.orientation;return 90==t?!1:!0}t.isDebug=!1,t.isOnLine=navigator.onLine,t.TextColors={white:16777215,milkWhite:16511407,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:15799040,green:58624,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720},t.LabelFontSize={littleSize:12,middleSize:18,normalSize:24,bigSize:36},t.isWeiXin=e,t.isBigScreen=i,t.systemType=n,t.platformType=s;t.gameScene=r,t.curStage=a,t.curWidth=o,t.curHeight=h,t.isVertical=c}(GameConfig||(GameConfig={}));var Keyboard=function(){function t(){}var e=(__define,t);e.prototype;return t.LEFT=37,t.RIGHT=39,t.UP=38,t.DOWN=40,t.W=87,t.A=65,t.S=83,t.D=68,t.J=74,t.K=75,t.L=76,t.U=85,t.I=73,t.O=79,t.P=80,t.SPACE=32,t}();egret.registerClass(Keyboard,"Keyboard");var GlobalData;!function(t){t.currentScore=0,t.bestScore=0,t.rateNum=0,t.useTime=0,t.lastTime=0,t.currentTime=0,t.bestTime=0,t.myCurHP=0,t.myMaxHP=0,t.myStrength=0,t.aiCurHP=0,t.aiMaxHP=0,t.aiStrength=0,t.rankArr=[],t.title="",t.desc="",t.link="",t.imgUrl="",t.myName="",t.fightName="",t.aiNum=0,t.doubleNum=0,t.isBoss=!1,t.bossName="",t.myMaxHP=5e3,t.myCurHP=5e3,t.myStrength=1e3,t.aiMaxHP=4e3,t.aiCurHP=4e3,t.aiStrength=1500,t.myAttackNum=0,t.aiAttackNum=0,t.winerNum=0,t.initIsVertical=!1,t.isVerticalGame=!1}(GlobalData||(GlobalData={}));var RES;!function(t){var e=function(e){function i(){e.call(this),this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(i,e);var n=(__define,i),s=n.prototype;return s.getRes=function(e){var i=t.AnalyzerBase.getStringTail(e);return this.fileDic[i]},s.analyzeData=function(t,e){if(e)for(var i=e,n=i.split(new RegExp("\r\n","gi")),s=n.length,r=0;s>r;r++){var a=n[r].indexOf("=");a>1&&(this.fileDic[n[r].substring(0,a)]=n[r].substring(a+1))}},i.TYPE="prop",i}(t.BinAnalyzer);t.PropertiesAnalyzer=e,egret.registerClass(e,"RES.PropertiesAnalyzer")}(RES||(RES={}));var ControllerManager=function(t){function e(){t.call(this),this._modules={}}__extends(e,t);var i=(__define,e),n=i.prototype;return n.clear=function(){this._modules={}},n.register=function(t,e){this.isExists(t)||(this._modules[t]=e)},n.unregister=function(t){this.isExists(t)&&(this._modules[t]=null,delete this._modules[t])},n.isExists=function(t){return null!=this._modules[t]},n.applyFunc=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var s=this._modules[t];if(s){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return s.applyFunc.apply(s,r)}return Log.trace("模块"+t+"不存在"),null},n.getControllerModel=function(t){var e=this._modules[t];return e?e.getModel():null},e}(BaseClass);egret.registerClass(ControllerManager,"ControllerManager");var BaseController=function(){function t(){this._messages={}}var e=(__define,t),i=e.prototype;return i.registerFunc=function(t,e,i){this._messages[t]=[e,i]},i.applyFunc=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this._messages[t];return n?n[0].apply(n[1],e):(Log.trace("消息"+t+"不存在侦听"),null)},i.applyControllerFunc=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return App.ControllerManager.applyFunc.apply(App.ControllerManager,arguments)},i.setModel=function(t){this._model=t},i.getModel=function(){return this._model},i.getControllerModel=function(t){return App.ControllerManager.getControllerModel(t)},t}();egret.registerClass(BaseController,"BaseController");var BaseModel=function(){function t(t){this._controller=t,this._controller.setModel(this)}var e=(__define,t);e.prototype;return t}();egret.registerClass(BaseModel,"BaseModel");var BaseProxy=function(){function t(t){this._controller=t}var e=(__define,t),i=e.prototype;return i.applyFunc=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this._controller.applyFunc.apply(this._controller,arguments)},i.applyControllerFunc=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this._controller.applyControllerFunc.apply(this._controller,arguments)},i.receiveServerMsg=function(t,e,i){App.MessageCenter.addListener(t,e,i)},i.receiveServerMsgOnce=function(t,e,i){var n=function(s){this.removeServerMsg(t,n,this),e.apply(i,s)};this.receiveServerMsg(t,n,this)},i.receiveServerHttpUpdateMsg=function(t,e,i){this.receiveServerMsg(t+"_HttpUpdate",e,i)},i.receiveServerHttpUpdateMsgOnce=function(t,e,i){this.receiveServerMsgOnce(t+"_HttpUpdate",e,i)},i.removeServerMsg=function(t,e,i){App.MessageCenter.removeListener(t,e,i)},i.removeServerHttpUpdateMsg=function(t,e,i){this.removeServerMsg(t+"_HttpUpdate",e,i)},i.sendSocketMsg=function(t){App.Socket.send(t)},i.sendHttpMsg=function(t,e){void 0===e&&(e=null),App.Http.send(t,this.getURLVariables(t,e))},i.getURLVariables=function(t,e){var i=t.split("."),n={};n.mod=i[0],n["do"]=i[1],null!=e&&(n.p=e);var s=JSON.stringify(n),r=new egret.URLVariables("data="+s+"&h="+App.ProxyUserFlag);return r},t}();egret.registerClass(BaseProxy,"BaseProxy");var BaseEuiView=function(t){function e(e,i){t.call(this),this._resources=null,this._controller=e,this._myParent=i,this._isInit=!1,this.percentHeight=100,this.percentWidth=100}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"myParent",function(){return this._myParent}),s.setResources=function(t){this._resources=t},s.isInit=function(){return this._isInit},s.applyFunc=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this._controller.applyFunc.apply(this._controller,arguments)},s.applyControllerFunc=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this._controller.applyControllerFunc.apply(this._controller,arguments)},s.isShow=function(){return null!=this.stage&&this.visible},s.addToParent=function(){this._myParent.addChild(this)},s.removeFromParent=function(){App.DisplayUtils.removeFromParent(this)},s.initUI=function(){this._isInit=!0},s.initData=function(){},s.destroy=function(){this._controller=null,this._myParent=null,this._resources=null},s.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},s.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},s.loadResource=function(t,e){this._resources&&this._resources.length>0?(App.ResourceUtils.loadResource(this._resources,[],t,null,this),this.addEventListener(eui.UIEvent.CREATION_COMPLETE,e,this)):(t(),e())},s.setVisible=function(t){this.visible=t},e}(eui.Component);egret.registerClass(BaseEuiView,"BaseEuiView",["IBaseView"]);var BaseSpriteView=function(t){function e(e,i){t.call(this),this._resources=null,this._controller=e,this._myParent=i,this._isInit=!1,App.StageUtils.getStage().addEventListener(egret.Event.RESIZE,this.onResize,this)}__extends(e,t);var i=__define,n=e,s=n.prototype;return s.setResources=function(t){this._resources=t},i(s,"myParent",function(){return this._myParent}),s.isInit=function(){return this._isInit},s.applyFunc=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this._controller.applyFunc.apply(this._controller,arguments)},s.applyControllerFunc=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this._controller.applyControllerFunc.apply(this._controller,arguments)},s.isShow=function(){return null!=this.stage&&this.visible},s.addToParent=function(){this._myParent.addChild(this)},s.removeFromParent=function(){App.DisplayUtils.removeFromParent(this)},s.initUI=function(){this._isInit=!0},s.initData=function(){},s.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},s.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},s.destroy=function(){this._controller=null,this._myParent=null,this._resources=null},s.onResize=function(){},s.loadResource=function(t,e){this._resources&&this._resources.length>0?App.ResourceUtils.loadResource(this._resources,[],function(){t(),e()},null,this):(t(),e())},s.setVisible=function(t){this.visible=t},e}(egret.DisplayObjectContainer);egret.registerClass(BaseSpriteView,"BaseSpriteView",["IBaseView"]);var Network;!function(Network){function sendInfo(t,e){void 0===t&&(t=""),void 0===e&&(e="");var i=new egret.URLLoader;i.dataFormat=egret.URLLoaderDataFormat.TEXT,i.addEventListener(egret.Event.COMPLETE,this.onGetComplete,this);var n=new egret.URLRequest(t);n.method=egret.URLRequestMethod.GET,n.data=new egret.URLVariables(e),i.load(n)}function onGetComplete(event){var loader=event.target;loader.dataFormat=egret.URLLoaderDataFormat.TEXT;var data=loader.data,data2=eval("("+data+")"),notify=loader._eventTarget._request.url;lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent(notify,data2,!1))}Network.sendInfo=sendInfo,Network.onGetComplete=onGetComplete}(Network||(Network={}));var SocketManager;!function(SocketManager){function connectServer(t,e){void 0===t&&(t=""),void 0===e&&(e=80),this.sock=new egret.WebSocket,this.sock.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.sock.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.sock.connect(t,e)}function onSocketOpen(){}function onReceiveMessage(){var msg=this.sock.readUTF(),data=eval("("+msg+")");lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent(data.cmd,data,!1))}function sendMessage(t){void 0===t&&(t=""),this.sock.writeUTF(t)}var sock=new egret.WebSocket;SocketManager.connectServer=connectServer,SocketManager.onSocketOpen=onSocketOpen,SocketManager.onReceiveMessage=onReceiveMessage,SocketManager.sendMessage=sendMessage}(SocketManager||(SocketManager={}));var DynamicChange=function(){function t(){this._dataCache=[],this._pUpdate=new ProxyUpdate(this._dataCache)}var e=__define,i=t,n=i.prototype;return e(n,"pUpdate",function(){return this._pUpdate}),n.getCacheData=function(t){return this._dataCache[t]?this._dataCache[t]:null},n.clearCache=function(){for(var t=Object.keys(this._dataCache),e=0,i=t.length;i>e;e++){var n=t[e];this._dataCache[n]=null,delete this._dataCache[n]}},n.getCacheKeyInfos=function(){for(var t=[],e=Object.keys(this._dataCache),i=0,n=e.length;n>i;i++){var s=e[i],r=this._dataCache[s];t.push(r)}return t},n.isCache=function(t){return this._dataCache[t]},t}();egret.registerClass(DynamicChange,"DynamicChange");var ProxyUpdate=function(){function t(t){this._cache=t}var e=(__define,t),i=e.prototype;return i.isArray=function(t){return t instanceof Array},i.isObject=function(t){return t.indexOf("object")>-1},i.isNormal=function(t){var e=t.indexOf("@")>-1,i=t.indexOf(".")>-1,n=t.indexOf("_")>-1;return!e&&!i&&!n},i.isAddToArray=function(t){return"@a"==t},i.isRemoveToArray=function(t){var e=t.split("_");return e.length<=3&&"@d"==e[0]},i.isFilter=function(t){var e=t.split("_");return"@f"==e[0]},i.isNumeric=function(t){return parseFloat(t).toString()==t.toString()},i._updateObject=function(t,e,i){var n=t.split(".");"@a"==n[0]||"@s"==n[0]?i[n[1]]=e:"@d"==n[0]&&delete i[n[1]]},i._getFilterObject=function(t,e){if(e){var i=t.split("_");if(3==i.length&&"@f"==i[0]&&this.isArray(e))for(var n=i[1],s=i[2],r=0;r<e.length;r++){var a=e[r];if(3==i.length&&this.isObject(a.toString())){var o=a[n];if(o&&("@"==s[0]&&(s=s.replace("@","")),s==o))return a}}}return null},i._addObjectToArray=function(t,e){if(this.isArray(e))for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e)},i._removeObjectFromArray=function(t,e,i){var n=e.split("_");if(n.length<=3&&"@d"==n[0]&&this.isArray(t))for(var s=t.length,r=s-1;r>=0;r--){var a=t[r];if(3==n.length){if(a.hasOwnProperty(n[1])){var o=n[2];"@"==o[0]&&(o=o.replace("@","")),o==a[n[1]]&&t.splice(r,1)}}else 2==n.length&&a.hasOwnProperty(n[1])?i==a[n[1]]&&t.splice(r,1):1==n.length&&i==a&&t.splice(r,1)}},i.update=function(t,e){if(this._cache[t]=e,e.hasOwnProperty("c"))for(var i=e.c,n=Object.keys(i),s=0,r=n.length;r>s;s++){var a=n[s];this._cache[a]&&(this._update(this._cache[a],i[a]),App.MessageCenter.dispatch(a+"_HttpUpdate"))}},i._update=function(t,e){if(t&&e&&this.isObject(e.toString()))for(var i=Object.keys(e),n=0,s=i.length;s>n;n++){var r=i[n],a=e[r];if(this.isNormal(r)&&this.isObject(a.toString()))t.hasOwnProperty(r)&&this._update(t[r],a);else if(this.isNormal(r)&&this.isNumeric(a)){var o=t[r];t[r]=o+a}else if(this.isNormal(r))t[r]=a;else if(this.isAddToArray(r))this._addObjectToArray(t,a);else if(this.isRemoveToArray(r))this._removeObjectFromArray(t,r,a);else if(this.isFilter(r)){var h=this._getFilterObject(r,t);h&&this._update(h,a)}else this._updateObject(r,a,t)}},t}();egret.registerClass(ProxyUpdate,"ProxyUpdate");var Http=function(t){function e(){t.call(this),this._data=new DynamicChange,this._cache=[],this._request=new egret.URLRequest,this._request.method=egret.URLRequestMethod.POST,this._urlLoader=new egret.URLLoader,this._urlLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this)}__extends(e,t);var i=__define,n=e,s=n.prototype;return s.initServer=function(t){this._serverUrl=t},i(s,"Data",function(){return this._data}),s.onError=function(t){this.nextPost()},s.send=function(t,e){this._cache.push([t,e]),this.post()},s.post=function(){if(!this._isRequesting&&0!=this._cache.length){var t=this._cache.shift(),e=t[0],i=t[1];this._type=e,this._request.url=this._serverUrl,this._request.data=i,this._urlLoader.addEventListener(egret.Event.COMPLETE,this.onLoaderComplete,this),this._urlLoader.load(this._request),this._isRequesting=!0}},s.onLoaderComplete=function(t){this._urlLoader.removeEventListener(egret.Event.COMPLETE,this.onLoaderComplete,this);var e=JSON.parse(this._urlLoader.data);e.hasOwnProperty("s")&&0!=e.s?Log.trace("Http错误:"+e.s):(this._data.pUpdate.update(this._type,e),App.MessageCenter.dispatch(this._type,e)),this.nextPost()},s.nextPost=function(){this._isRequesting=!1,this.post()},e}(BaseClass);egret.registerClass(Http,"Http");var ByteArrayMsg=function(){function t(){this._msgBuffer=new egret.ByteArray}var e=(__define,t),i=e.prototype;return i.receive=function(t){t.readBytes(this._msgBuffer);var e=this.decode(this._msgBuffer);e&&App.MessageCenter.dispatch(e.key,e.body),0==this._msgBuffer.bytesAvailable&&this._msgBuffer.clear()},i.send=function(t,e){var i=this.encode(e);i&&(i.position=0,t.writeBytes(i,0,i.bytesAvailable))},i.decode=function(t){return Log.trace("decode需要子类重写，根据项目的协议结构解析"),null},i.encode=function(t){return Log.trace("encode需要子类重写，根据项目的协议结构解析"),null},t}();egret.registerClass(ByteArrayMsg,"ByteArrayMsg",["BaseMsg"]);var ByteArrayMsgByProtobuf=function(t){function e(){t.call(this),this.msgClass=null,this.protoConfig=null,this.protoConfigSymmetry=null,this.msgClass={},this.protoConfig=App.ProtoConfig,this.protoConfigSymmetry={};for(var e=Object.keys(this.protoConfig),i=0,n=e.length;n>i;i++){var s=e[i],r=this.protoConfig[s];this.protoConfigSymmetry[r]=s}}__extends(e,t);var i=(__define,e),n=i.prototype;return n.getMsgClass=function(t){var e=this.msgClass[t];return null==e&&(e=App.ProtoFile.build(t),this.msgClass[t]=e),e},n.getMsgID=function(t){return this.protoConfigSymmetry[t]},n.getMsgKey=function(t){return this.protoConfig[t]},n.decode=function(t){var e=t.readShort(),i=t.readShort();if(t.bytesAvailable>=i){var n=new egret.ByteArray;t.readBytes(n,0,i);var s={};return s.key=this.getMsgKey(e),App.DebugUtils.start("Protobuf Decode"),s.body=this.getMsgClass(s.key).decode(n.buffer),App.DebugUtils.stop("Protobuf Decode"),Log.trace("收到数据：","["+e+" "+s.key+"]",s.body),s}return null},n.encode=function(t){var e=this.getMsgID(t.key),i=new(this.getMsgClass(t.key))(t.body);App.DebugUtils.start("Protobuf Encode");var n=new egret.ByteArray(i.toArrayBuffer());App.DebugUtils.stop("Protobuf Encode"),Log.trace("发送数据：","["+e+" "+t.key+"]",t.body);var s=new egret.ByteArray;return s.writeShort(e),s.writeBytes(n),s},e}(ByteArrayMsg);egret.registerClass(ByteArrayMsgByProtobuf,"ByteArrayMsgByProtobuf");var Socket=function(t){function e(){t.call(this),this._needReconnect=!1,this._maxReconnectCount=10,this._reconnectCount=0}__extends(e,t);var i=(__define,e),n=i.prototype;return n.addEvents=function(){this._socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this._socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this._socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this._socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this)},n.removeEvents=function(){this._socket.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this._socket.removeEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this._socket.removeEventListener(egret.Event.CLOSE,this.onSocketClose,this),this._socket.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this)},n.onSocketOpen=function(){this._reconnectCount=0,this._connectFlag?App.MessageCenter.dispatch(SocketConst.SOCKET_RECONNECT):App.MessageCenter.dispatch(SocketConst.SOCKET_CONNECT),this._connectFlag=!0,this._isConnecting=!0},n.onSocketClose=function(){this._needReconnect?(this.reconnect(),App.MessageCenter.dispatch(SocketConst.SOCKET_START_RECONNECT)):App.MessageCenter.dispatch(SocketConst.SOCKET_CLOSE),this._isConnecting=!1},n.onSocketError=function(){this._needReconnect?this.reconnect():App.MessageCenter.dispatch(SocketConst.SOCKET_NOCONNECT),this._isConnecting=!1},n.onReceiveMessage=function(t){this._msg.receive(this._socket)},n.initServer=function(t,e,i){this._host=t,this._port=e,this._msg=i},n.connect=function(){return App.DeviceUtils.IsHtml5&&!window.WebSocket?void Log.trace("不支持WebSocket"):(this._socket=new egret.WebSocket,this._msg instanceof ByteArrayMsg&&(this._socket.type=egret.WebSocket.TYPE_BINARY),Log.trace("WebSocket: "+this._host+":"+this._port),this._socket.connect(this._host,this._port),void this.addEvents())},n.reconnect=function(){this.close(),this._reconnectCount++,this._reconnectCount<this._maxReconnectCount?this.connect():(this._reconnectCount=0,this._connectFlag?App.MessageCenter.dispatch(SocketConst.SOCKET_CLOSE):App.MessageCenter.dispatch(SocketConst.SOCKET_NOCONNECT))},n.send=function(t){this._msg.send(this._socket,t)},n.close=function(){this.removeEvents(),this._socket.close(),this._socket=null,this._isConnecting=!1,this._connectFlag=!1},n.isConnecting=function(){return this._isConnecting},n.debugInfo=function(t){App.MessageCenter.dispatch(SocketConst.SOCKET_DEBUG_INFO,t)},e}(BaseClass);egret.registerClass(Socket,"Socket");var SocketConst=function(){function t(){}var e=(__define,t);e.prototype;return t.SOCKET_CONNECT="SOCKET_CONNECT",t.SOCKET_RECONNECT="SOCKET_RECONNECT",t.SOCKET_START_RECONNECT="SOCKET_START_RECONNECT",t.SOCKET_CLOSE="SOCKET_CLOSE",t.SOCKET_DATA="SOCKET_DATA",t.SOCKET_NOCONNECT="SOCKET_NOCONNECT",t.SOCKET_DEBUG_INFO="SOCKET_DEBUG_INFO",t}();egret.registerClass(SocketConst,"SocketConst");var UTFMsg=function(){function t(){}var e=(__define,t),i=e.prototype;return i.receive=function(t){var e=t.readUTF(),i=this.decode(e);i&&App.MessageCenter.dispatch(i.key,i.body)},i.send=function(t,e){var i=this.encode(e);i&&(t.type=egret.WebSocket.TYPE_STRING,t.writeUTF(i))},i.decode=function(t){return Log.trace("decode需要子类重写，根据项目的协议结构解析"),null},i.encode=function(t){return Log.trace("encode需要子类重写，根据项目的协议结构解析"),null},t}();egret.registerClass(UTFMsg,"UTFMsg",["BaseMsg"]);var UTFMsgByJson=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.decode=function(t){return JSON.parse(t)},n.encode=function(t){return JSON.stringify(t)},e}(UTFMsg);egret.registerClass(UTFMsgByJson,"UTFMsgByJson");var MainNotify;!function(t){t.onOrientationChange="onOrientationChange",t.onDeviceOrientation="onDeviceOrientation",t.onDeviceMotion="onDeviceMotion",t.closeAlertNotify="closeAlertNotify",t.closeShareNotify="closeAlertNotify",t.updateShareNotify="updateShareNotify",t.openStartPanelNotify="openStartPanelNotify",t.closeStartPanelNotify="closeStartPanelNotify",t.openGamePanelNotify="openGamePanelNotify",t.closeGamePanelNotify="closeGamePanelNotify",t.openGameOverPanelNotify="openGameOverPanelNotify",t.closeGameOverPanelNotify="closeGameOverPanelNotify",t.openSetPanelNotify="openSetPanelNotify",t.closeSetPanelNotify="closeSetPanelNotify",t.openAlertPanelNotify="openAlertPanelNotify",t.closeAlertPanelNotify="closeAlertPanelNotify"}(MainNotify||(MainNotify={}));var AllAsyncExecutor=function(){function t(){this._functions=new Array,this._complateNum=0}var e=(__define,t),i=e.prototype;return i.setCallBack=function(t,e){this._callBack=t,this._callBackTarget=e},i.regist=function(t,e){this._functions.push([t,e])},i.start=function(){App.ArrayUtils.forEach(this._functions,function(t){t[0].call(t[1])},this)},i.complate=function(){this._functions&&(this._complateNum++,this._complateNum==this._functions.length&&(this._callBack&&this._callBack.call(this._callBackTarget),this._callBack=null,this._callBackTarget=null,this._functions=null))},t}();egret.registerClass(AllAsyncExecutor,"AllAsyncExecutor");var AnchorUtil=function(){function t(){}var e=(__define,t);e.prototype;return t.init=function(){t._propertyChange=Object.create(null),t._anchorChange=Object.create(null),t.injectAnchor()},t.setAnchorX=function(t,e){t.anchorX=e},t.setAnchorY=function(t,e){t.anchorY=e},t.setAnchor=function(t,e){t.anchorX=t.anchorY=e},t.getAnchor=function(t){return t.anchorX!=t.anchorY&&console.log("target's anchorX != anchorY"),t.anchorX||0},t.getAnchorY=function(t){return t.anchorY||0},t.getAnchorX=function(t){return t.anchorX||0},t.injectAnchor=function(){Object.defineProperty(egret.DisplayObject.prototype,"width",{get:function(){return this.$getWidth()},set:function(e){var i=this;this.$setWidth(e),t._propertyChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"height",{get:function(){return this.$getHeight()},set:function(e){var i=this;this.$setHeight(e),t._propertyChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchorX",{get:function(){return this._anchorX},set:function(e){var i=this;this._anchorX=e,t._propertyChange[this.hashCode]=!0,t._anchorChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchorY",{get:function(){return this._anchorY},set:function(e){var i=this;this._anchorY=e,t._propertyChange[this.hashCode]=!0,t._anchorChange[this.hashCode]=!0,egret.callLater(function(){t.changeAnchor(i)},this)},enumerable:!0,configurable:!0})},t.changeAnchor=function(e){t._propertyChange[e.hashCode]&&t._anchorChange[e.hashCode]&&(e.anchorOffsetX=e._anchorX*e.width,e.anchorOffsetY=e._anchorY*e.height,delete t._propertyChange[e.hashCode])},t}();egret.registerClass(AnchorUtil,"AnchorUtil");var ArrayUtils=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.forEach=function(t,e,i){for(var n=0,s=t.length;s>n;n++)e.apply(i,[t[n]])},e}(BaseClass);egret.registerClass(ArrayUtils,"ArrayUtils");var AverageUtils=function(){function t(t){void 0===t&&(t=10),this.nums=[],this.numsLen=0,this.numSum=0,this.maxNum=t}var e=(__define,t),i=e.prototype;return i.push=function(t){this.numsLen>this.maxNum&&(this.numsLen--,this.numSum-=this.nums.shift()),this.nums.push(t),this.numSum+=t,this.numsLen++},i.getValue=function(){return this.numSum/this.numsLen},i.clear=function(){this.nums.splice(0),this.numsLen=0,this.numSum=0},t}();egret.registerClass(AverageUtils,"AverageUtils");var CommonUtils=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e);i.prototype;return e.addLableStrokeColor=function(t,e,i){t.strokeColor=e,t.stroke=i},e.copyDataHandler=function(t){var e;if(t instanceof Array)e=[];else{if(!(t instanceof Object))return t;e={}}for(var i=Object.keys(t),n=0,s=i.length;s>n;n++){var r=i[n];e[r]=this.copyDataHandler(t[r])}return e},e.lock=function(){App.StageUtils.getStage().touchEnabled=App.StageUtils.getStage().touchChildren=!1},e.unlock=function(){App.StageUtils.getStage().touchEnabled=App.StageUtils.getStage().touchChildren=!0},e.int64ToNumber=function(t){return parseInt(t.toString())},e.labelIsOverLenght=function(t,e){var i=null;i=1e5>e?e:1e6>e?Math.floor(e/1e3/10).toString()+"万":Math.floor(e/1e4).toString()+"万",t.text=i},e}(BaseClass);egret.registerClass(CommonUtils,"CommonUtils");var DateUtils=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.getFormatBySecond=function(t,e){void 0===e&&(e=1);var i="";switch(e){case 1:i=this.getFormatBySecond1(t);break;case 2:i=this.getFormatBySecond2(t);break;case 3:i=this.getFormatBySecond3(t);break;case 4:i=this.getFormatBySecond4(t);break;case 5:i=this.getFormatBySecond5(t)}return i},n.getFormatBySecond1=function(t){void 0===t&&(t=0);var e,i=Math.floor(t/3600);e=0==i?"00":10>i?"0"+i:""+i;var n,s,r=Math.floor((t-3600*i)/60),a=Math.floor((t-3600*i)%60);return n=0==r?"00":10>r?"0"+r:""+r,s=0==a?"00":10>a?"0"+a:""+a,e+":"+n+":"+s},n.getFormatBySecond3=function(t){void 0===t&&(t=0);var e,i,n=Math.floor(t/3600),s=Math.floor((t-3600*n)/60),r=Math.floor((t-3600*n)%60);return e=0==s?"00":10>s?"0"+s:""+s,i=0==r?"00":10>r?"0"+r:""+r,e+":"+i},n.getFormatBySecond2=function(t){var e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1,s=e.getDate(),r=e.getHours(),a=e.getMinutes(),o=e.getSeconds();return i+"-"+n+"-"+s+" "+r+":"+a+":"+o},n.getFormatBySecond4=function(t){var e=Math.floor(t/3600);return e>0?e>24?Math.floor(e/24)+"天前":e+"小时前":Math.floor(t/60)+"分钟前"},n.getFormatBySecond5=function(t){var e=86400,i=3600,n=60,s=Math.floor(t/e),r=Math.floor(t%e/i),a=Math.floor((t-r*i)/n),o=Math.floor((t-r*i)%n),h="",c="",l="",u="";return t>0?0==s?(h="",0==r?(c="",0==a?(l="",u=0==o?"":10>o?"0"+o+"秒":""+o+"秒"):(l=""+a+"分",u=0==o?"":10>o?"0"+o+"秒":""+o+"秒",l+u)):(c=r+"小时",0==a?(l="",u=0==o?"":10>o?"0"+o+"秒":""+o+"秒"):(l=10>a?"0"+a+"分":""+a+"分",c+l))):(h=s+"天",c=0==r?"":10>r?"0"+r+"小时":""+r+"小时",h+c):""},e}(BaseClass);egret.registerClass(DateUtils,"DateUtils");var DebugUtils=function(t){function e(){t.call(this),this._threshold=3,this._startTimes={}}__extends(e,t);var i=__define,n=e,s=n.prototype;return s.isOpen=function(t){this._isOpen=t},i(s,"isDebug",function(){return this._isOpen}),s.start=function(t){this._isOpen&&(this._startTimes[t]=egret.getTimer())},s.stop=function(t){if(!this._isOpen)return 0;if(!this._startTimes[t])return 0;var e=egret.getTimer()-this._startTimes[t];return e>this._threshold&&Log.trace(t+": "+e),e},s.setThreshold=function(t){this._threshold=t},e}(BaseClass);egret.registerClass(DebugUtils,"DebugUtils");var DelayOptManager=function(t){function e(){t.call(this),this.TIME_THRESHOLD=2,this._delayOpts=[],App.TimerManager.doFrame(1,0,this.runCachedFun,this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.addDelayOptFunction=function(t,e,i,n,s){this._delayOpts.push({fun:e,funPara:i,thisObj:t,callBack:n,para:s})},n.clear=function(){this._delayOpts.length=0},n.stop=function(){App.TimerManager.remove(this.runCachedFun,this)},n.runCachedFun=function(t){if(0!=this._delayOpts.length)for(var e,i=egret.getTimer();this._delayOpts.length&&(e=this._delayOpts.shift(),e.funPara?e.fun.call(e.thisObj,e.funPara):e.fun.call(e.thisObj),e.callBack&&(void 0!=e.para?e.callBack.call(e.thisObj,e.para):e.callBack()),!(egret.getTimer()-i>this.TIME_THRESHOLD)););},e}(BaseClass);egret.registerClass(DelayOptManager,"DelayOptManager");var DeviceUtils=function(t){function e(){t.call(this)}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"IsHtml5",function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WEB}),i(s,"IsNative",function(){return egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE}),i(s,"IsMobile",function(){return egret.Capabilities.isMobile}),i(s,"IsPC",function(){return!egret.Capabilities.isMobile}),i(s,"IsQQBrowser",function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MQQBrowser")}),i(s,"IsIEBrowser",function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("MSIE")}),i(s,"IsFirefoxBrowser",function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Firefox")}),i(s,"IsChromeBrowser",function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Chrome")}),i(s,"IsSafariBrowser",function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Safari")}),i(s,"IsOperaBrowser",function(){return this.IsHtml5&&-1!=navigator.userAgent.indexOf("Opera")}),e}(BaseClass);egret.registerClass(DeviceUtils,"DeviceUtils");var DisplayUtils=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createBitmap=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},n.createEuiImage=function(t){var e=new eui.Image,i=RES.getRes(t);return e.source=i,e},n.removeFromParent=function(t){null!=t.parent&&t.parent.removeChild(t)},e}(BaseClass);egret.registerClass(DisplayUtils,"DisplayUtils");var EffectUtils=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.macIconShake=function(t,e){for(var i=[[20,300],[15,300],[10,300],[5,300]],n="egret.Tween.get("+t+")",s=0,r=i.length;r>s;s++)n+=".to({'y':"+e+"-"+i[s][0]+"}, "+i[s][1]+")",n+=".to({'y':"+e+"}, "+i[s][1]+")";return n+=";"},n.startFlicker=function(t,e){t.alpha=1,egret.Tween.get(t).to({alpha:0},e).to({alpha:1},e).call(this.startFlicker,this,[t])},n.stopFlicker=function(t){egret.Tween.removeTweens(t)},e}(BaseClass);egret.registerClass(EffectUtils,"EffectUtils");var EgretExpandUtils=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(){AnchorUtil.init()},e}(BaseClass);egret.registerClass(EgretExpandUtils,"EgretExpandUtils");var FrameDelay=function(){function t(){}var e=(__define,t),i=e.prototype;return i.delayCall=function(t,e,i){this.func=e,this.thisObj=i,App.TimerManager.doFrame(t,1,this.listener_enterFrame,this)},i.listener_enterFrame=function(){this.func.call(this.thisObj)},t}();egret.registerClass(FrameDelay,"FrameDelay");var FrameExecutor=function(){function t(t){this.delayFrame=t,this.frameDelay=new FrameDelay,this.functions=new Array}var e=(__define,t),i=e.prototype;return i.regist=function(t,e){this.functions.push([t,e])},i.execute=function(){if(this.functions.length){var t=this.functions.shift();t[0].call(t[1]),this.frameDelay.delayCall(this.delayFrame,this.execute,this)}},t}();egret.registerClass(FrameExecutor,"FrameExecutor");var Global;!function(t){function e(t,e,i,n){return void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=!1),new lcp.LEvent(t,e,i,n)}function i(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=!1);var s=new lcp.LEvent(t,e,i,n);lcp.LListener.getInstance().dispatchEvent(s)}function n(t,e,i,n,s){void 0===n&&(n=!1),void 0===s&&(s=0),lcp.LListener.getInstance().addEventListener(t,e,i,n,s)}function s(t){var e=GlobalData.desc,i=GlobalData.link,n=GlobalData.imgUrl;GlobalData.title;if("weibo"==t){var s="http://v.t.sina.com.cn/share/share.php?title="+e+"&url="+i+"&content=utf-8&sourceUrl="+i+"&pic="+n;window.open(s)}else if("txmicroblog"==t){var s="http://v.t.qq.com/share/share.php?title="+e+"&url="+i+"&pic="+n;window.open(s)}else if("qzone"==t){var s="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?summary="+e+"&url="+i+"&pics="+n;window.open(s)}else if("qq"==t){var s="http://connect.qq.com/widget/shareqq/index.html?title="+e+"&url="+i+"&pic="+n;window.open(s)}else if("renren"==t){var s="http://share.renren.com/share/buttonshare.do?link="+i+"&title="+e;
window.open(s)}else if("kaixin"==t){var s="http://www.kaixin001.com/repaste/share.php?rurl="+i+"&rcontent="+e;window.open(s)}else if("douban"==t){var s="http://www.douban.com/recommend/?url="+i+"&title="+e;window.open(s)}else if("tieba"==t){var s="http://tieba.baidu.com/f/commit/share/openShareApi?url="+i+"&title="+e;window.open(s)}}function r(t){void 0===t&&(t=!1),t?(window.rootContainer.rotation=90,window.rootContainer.x=egret.MainContext.instance.stage.stageWidth):(window.rootContainer.rotation=0,window.rootContainer.x=0)}function a(e,i,n,s){void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n=null),void 0===s&&(s=1),null==this._alert&&(this._alert=new AlertPanel(e,i,null,n),PopUpManager.addPopUp(this._alert,!0,this._alert.getWidth(),this._alert.getHeight(),s,!0),t.addEventListener(MainNotify.closeAlertNotify,this.closeAlertPanel,this))}function o(e,i,n,s,r){void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n=null),void 0===s&&(s=null),void 0===r&&(r=1),null==this._alert&&(this._alert=new AlertPanel(e,i,n,s,2),PopUpManager.addPopUp(this._alert,!0,this._alert.getWidth(),this._alert.getHeight(),r,!0),t.addEventListener(MainNotify.closeAlertNotify,this.closeAlertPanel,this))}function h(){null!=this._alert&&(PopUpManager.removePopUp(this._alert,1),this._alert=null)}function c(){null!=this._share&&(PopUpManager.removePopUp(this._share,0),this._share=null)}t.Event=e,t.dispatchEvent=i,t.addEventListener=n,t.shareUtils=s,t.rotationResize=r;t.alert=a,t.confirm=o,t.closeAlertPanel=h,t.closeSharePanel=c}(Global||(Global={}));var JSSDK=function(){function t(){}var e=(__define,t),i=e.prototype;return t.getSignPackage=function(e,i){var n=this;void 0===e&&(e=null),void 0===i&&(i=null);var s=location.href.split("#")[0];this.url="http://www.joyoungfeld-ad.com/php/json.php?url="+encodeURIComponent(s);var r=new egret.URLLoader,a=new egret.URLRequest(this.url);r.load(a),a.method=egret.URLRequestMethod.GET,r.addEventListener(egret.Event.COMPLETE,function(s){n.signPackage=JSON.parse(s.target.data),n.getWeiXinConfig(),t.getWeiXinShareAppMessage(),t.getWeiXinShareTimeline(),i&&e.call(i)},this)},t.getWeiXinConfig=function(){var t=new BodyConfig;t.debug=!1,t.appId=this.signPackage.appId,t.timestamp=this.signPackage.timestamp,t.nonceStr=this.signPackage.nonceStr,t.signature=this.signPackage.signature,t.jsApiList=["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"],wx.config(t)},t.getWeiXinShareTimeline=function(t,e,i,n,s,r,a){void 0===t&&(t=1),void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n=""),void 0===s&&(s=null),void 0===r&&(r=null),void 0===a&&(a=null);var o=new BodyMenuShareTimeline;1==t?(o.title=ConfigModel.getInstance().wx_default_friend_desx,o.link=ConfigModel.getInstance().wx_share_link,o.imgUrl=ConfigModel.getInstance().wx_share_img):2==t&&(o.title=e,o.link=i,o.imgUrl=n),o.trigger=function(){},o.success=function(){a&&s.call(a)},o.cancel=function(){a&&r.call(a)},o.fail=function(t){},wx.onMenuShareTimeline(o)},t.getWeiXinShareAppMessage=function(t,e,i,n,s,r,a,o){void 0===t&&(t=1),void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n=""),void 0===s&&(s=""),void 0===r&&(r=null),void 0===a&&(a=null),void 0===o&&(o=null);var h=new BodyMenuShareAppMessage;1==t?(h.title=ConfigModel.getInstance().wx_default_title,h.link=ConfigModel.getInstance().wx_share_link,h.imgUrl=ConfigModel.getInstance().wx_share_img,h.desc=ConfigModel.getInstance().wx_friend_desx):2==t&&(h.title=e,h.link=i,h.imgUrl=n,h.desc=s),h.trigger=function(){},h.success=function(){o&&r.call(o)},h.cancel=function(){o&&a.call(o)},h.fail=function(t){},wx.onMenuShareAppMessage(h)},i.getWeiXinShareQQ=function(){},i.getWeiXinShareWeiBo=function(){},t.url="",t}();egret.registerClass(JSSDK,"JSSDK");var KeyboardUtils=function(t){function e(){if(t.call(this),this.key_ups=new Array,this.key_downs=new Array,App.DeviceUtils.IsHtml5){var e=this;document.addEventListener("keyup",function(t){for(var i=0,n=e.key_ups.length;n>i;i++){var s=e.key_ups[i][0],r=e.key_ups[i][1];r?s.call(r,t.keyCode):s(t.keyCode)}}),document.addEventListener("keydown",function(t){for(var i=0,n=e.key_downs.length;n>i;i++){var s=e.key_downs[i][0],r=e.key_downs[i][1];r?s.call(r,t.keyCode):s(t.keyCode)}})}}__extends(e,t);var i=(__define,e),n=i.prototype;return n.addKeyUp=function(t,e){this.key_ups.push([t,e])},n.addKeyDown=function(t,e){this.key_downs.push([t,e])},n.removeKeyUp=function(t,e){for(var i=0;i<this.key_ups.length;i++)this.key_ups[i][0]==t&&this.key_ups[i][1]==e&&(this.key_ups.splice(i,1),i--)},n.removeKeyDown=function(t,e){for(var i=0;i<this.key_downs.length;i++)this.key_downs[i][0]==t&&this.key_downs[i][1]==e&&(this.key_downs.splice(i,1),i--)},e}(BaseClass);egret.registerClass(KeyboardUtils,"KeyboardUtils");var LocationProperty=function(){function t(){}var e=(__define,t);e.prototype;return t.getPara=function(t,e){if(egret.MainContext.runtimeType==egret.MainContext.RUNTIME_NATIVE)return null;var i=e||location.href;if(-1!=i.indexOf("?")){var n="&"+i.split("?")[1],s=new RegExp("&"+t+"=.*?(?:&|$)"),r=s.exec(n);if(r){var a=r[0];return a.split("&")[1].split("=")[1]}}return null},t.setProperty=function(t,e,i){var n=i||location.href,s="&"+n.split("?")[1];if(-1==n.indexOf("?"))return n+="?"+t+"="+e;var s=n.split("?")[1];if(""==s)return n+=t+"="+e;var r=new RegExp("(?:^|&)"+t+"=.*?(?:&|$)"),a=r.exec(s);if(a&&""!=a[0]){var o=a[0],h=new RegExp("=.*$"),c=o.replace(h,"="+e);return n.replace(o,c)}return n+="&"+t+"="+e},t.hasProperty=function(t,e){var i=e||location.href,n="&"+i.split("?")[1];return-1!=n.indexOf("&"+t+"=")},t}();egret.registerClass(LocationProperty,"LocationProperty");var Log=function(){function t(){}var e=(__define,t);e.prototype;return t.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];App.DebugUtils.isDebug&&(t[0]="[DebugLog]"+t[0],console.log.apply(console,t))},t}();egret.registerClass(Log,"Log");var MathUtils=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.getAngle=function(t){return 180*t/Math.PI},n.getRadian=function(t){return Math.PI=t/180*Math.PI},n.getRadian2=function(t,e,i,n){var s=i-t,r=n-e;return Math.atan2(r,s)},n.getDistance=function(t,e,i,n){var s=i-t,r=n-e,a=s*s+r*r;return Math.sqrt(a)},e}(BaseClass);egret.registerClass(MathUtils,"MathUtils");var MessageCenter=function(t){function e(e){t.call(this),this.type=e,this.dict={},this.eVec=new Array,this.lastRunTime=0,0==this.type&&App.TimerManager.doFrame(1,0,this.run,this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.clear=function(){this.dict={},this.eVec.splice(0)},n.addListener=function(t,e,i){var n=this.dict[t];null==n&&(n=new Array,this.dict[t]=n);var s=0,r=n.length;for(s;r>s;s++)if(n[s][0]==e&&n[s][1]==i)return;n.push([e,i])},n.removeListener=function(t,e,i){var n=this.dict[t];if(null!=n){var s=0,r=n.length;for(s;r>s;s++)if(n[s][0]==e&&n[s][1]==i){n.splice(s,1);break}0==n.length&&(this.dict[t]=null,delete this.dict[t])}},n.removeAll=function(t){for(var e=Object.keys(this.dict),i=0,n=e.length;n>i;i++){for(var s=e[i],r=this.dict[s],a=0;a<r.length;a++)r[a][1]==t&&(r.splice(a,1),a--);0==r.length&&(this.dict[s]=null,delete this.dict[s])}},n.dispatch=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null!=this.dict[t]){var n=ObjectPool.pop("MessageVo");n.type=t,n.param=e,0==this.type?this.eVec.push(n):1==this.type?this.dealMsg(n):Log.trace("MessageCenter未实现的类型")}},n.run=function(){var t=egret.getTimer(),e=t-this.lastRunTime>100;if(this.lastRunTime=t,e)for(;this.eVec.length>0;)this.dealMsg(this.eVec.shift());else for(;this.eVec.length>0&&(this.dealMsg(this.eVec.shift()),!(egret.getTimer()-t>5)););},n.dealMsg=function(t){for(var e=this.dict[t.type],i=0,n=e.length,s=null;n>i;)s=e[i],s[0].apply(s[1],t.param),e.length!=n&&(n=e.length,i--),i++;t.dispose(),ObjectPool.push(t)},e}(BaseClass);egret.registerClass(MessageCenter,"MessageCenter");var MessageVo=function(){function t(){}var e=(__define,t),i=e.prototype;return i.dispose=function(){this.type=null,this.param=null},t}();egret.registerClass(MessageVo,"MessageVo");var ObjectPool=function(){function t(){this._objs=new Array}var e=(__define,t),i=e.prototype;return i.pushObj=function(t){this._objs.push(t)},i.popObj=function(){return this._objs.length>0?this._objs.pop():null},i.clear=function(){for(;this._objs.length>0;)this._objs.pop()},t.pop=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];t._content[e]||(t._content[e]=[]);var s=t._content[e];if(s.length)return s.pop();var r,a=egret.getDefinitionByName(e),o=i.length;return 0==o?r=new a:1==o?r=new a(i[0]):2==o?r=new a(i[0],i[1]):3==o?r=new a(i[0],i[1],i[2]):4==o?r=new a(i[0],i[1],i[2],i[3]):5==o&&(r=new a(i[0],i[1],i[2],i[3],i[4])),r.ObjectPoolKey=e,r},t.popWithExtraKey=function(e,i){t._content[e]||(t._content[e]=[]);var n,s=t._content[e];if(s.length)for(var r=0;r<s.length;r++)if(s[r].extraKey==i){n=s[r],s.splice(r,1);break}if(!n){var a=egret.getDefinitionByName(e);n=new a(i),n.extraKey=i,n.ObjectPoolKey=e}return n},t.push=function(e){if(null==e)return!1;var i=e.ObjectPoolKey;return t._content[i]?(t._content[i].push(e),!0):!1},t.clear=function(){t._content={}},t.clearClass=function(e,i){void 0===i&&(i=null);for(var n=t._content[e];n&&n.length;){var s=n.pop();i&&s[i](),s=null}t._content[e]=null,delete t._content[e]},t.dealFunc=function(e,i){var n=t._content[e];if(null!=n){var s=0,r=n.length;for(s;r>s;s++)n[s][i]()}},t._content={},t}();egret.registerClass(ObjectPool,"ObjectPool");var Percent=function(){function t(t,e){this.currentValue=t,this.totalValue=e}var e=(__define,t),i=e.prototype;return i.computePercent=function(){return this.currentValue/this.totalValue*100},i.computeRate=function(){return this.currentValue/this.totalValue},i.reverse=function(){return this.currentValue=this.totalValue-this.currentValue,this},i.copy=function(){return new t(this.currentValue,this.totalValue)},i.computePercentReverse=function(){return(this.totalValue-this.currentValue)/this.totalValue*100},i.computeRateReverse=function(){return(this.totalValue-this.currentValue)/this.totalValue},t}();egret.registerClass(Percent,"Percent");var QueueExecutor=function(){function t(){this._functions=new Array}var e=(__define,t),i=e.prototype;return i.setCallBack=function(t,e){this._callBack=t,this._callBackTarget=e},i.regist=function(t,e){this._functions.push([t,e])},i.start=function(){this.next()},i.next=function(){if(this._functions)if(0==this._functions.length)this._callBack&&this._callBack.call(this._callBackTarget),this._callBack=null,this._callBackTarget=null,this._functions=null;else{var t=this._functions.shift();t[0].call(t[1])}},t}();egret.registerClass(QueueExecutor,"QueueExecutor");var RandomUtils=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var i=e-t;return t+Math.random()*i},n.limitInteger=function(t,e){return Math.round(this.limit(t,e))},n.randomArray=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},e}(BaseClass);egret.registerClass(RandomUtils,"RandomUtils");var RegUtils;!function(t){function e(t){var e=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;return e.test(t)?!0:(alert("您输入的Email地址格式不正确！"),!1)}function i(t){if(r(t))return!1;var e=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g;return e.test(t)&&Number(RegExp.$1)<256&&Number(RegExp.$2)<256&&Number(RegExp.$3)<256&&Number(RegExp.$4)<256?!0:!1}function n(t){var e="/^[1][3][0-9]{9}$/",i=new RegExp(e);return i.test(t)?!0:!1}function s(t){var e=/^[0][1-9]{2,3}-[0-9]{5,10}$/,i=/^[1-9]{1}[0-9]{5,8}$/,n="您输入的电话号码不正确!";return t.length>9?e.test(t)?!0:(alert(n),!1):i.test(t)?!0:(alert(n),!1)}function r(t){if(""==t)return!0;var e="^[ ]+$",i=new RegExp(e);return i.test(t)}function a(t){var e=/^[-]{0,1}[0-9]{1,}$/;return e.test(t)}function o(t){var e="^[0-9]+$",i=new RegExp(e);return-1!=t.search(i)?!0:!1}function h(t){var e="^[0-9]+[.][0-9]{0,3}$",i=new RegExp(e);return i.test(t)?!0:!1}function c(t,e){var i=" ",n=-1;if(0==e||1==e){for(;" "==i;)++n,i=t.substr(n,1);t=t.substring(n)}if(0==e||2==e){for(i=" ",n=t.length;" "==i;)--n,i=t.substr(n,1);t=t.substring(0,n+1)}return t}t.checkEmail=e,t.isIP=i,t.checkMobile=n,t.checkPhone=s,t.isNull=r,t.isInteger=a,t.isNumber=o,t.isMoney=h,t.cTrim=c}(RegUtils||(RegUtils={}));var RenderTextureManager=function(t){function e(){t.call(this),this._pool=[],this._useNum=0,this.isLowerQQBrowser()?this._maxNum=18:this._maxNum=-1}__extends(e,t);var i=(__define,e),n=i.prototype;return n.isLowerQQBrowser=function(){if(App.DeviceUtils.IsQQBrowser){for(var t=["2013022","Lenovo A630t","SM-G3818","vivo X3t","GT-I9100"],e=!1,i=0,n=t.length;n>i;i++)if(-1!=navigator.userAgent.indexOf(t[i])){e=!0;break}return e}return!1},n.pop=function(){var t=this._pool.pop();return t||(-1==this._maxNum||this._useNum<this._maxNum)&&(t=new egret.RenderTexture,this._useNum++),t},n.push=function(t){for(var e=!1,i=0,n=this._pool.length;n>i;i++)if(this._pool[i]==t){e=!0;break}e||this._pool.push(t)},e}(BaseClass);egret.registerClass(RenderTextureManager,"RenderTextureManager");var ResVersionManager=function(t){function e(){t.call(this),this.res_loadByVersion()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.res_loadByVersion=function(){RES.web.Html5VersionController.prototype.getVirtualUrl=function(t){var i="",n=e.resVersionData,s=t.substring(9);return n&&n[s]&&(i=n[s]),0==i.length&&(i=Math.random()+""),t+=-1==t.indexOf("?")?"?v="+i:"&v="+i}},n.loadConfig=function(t,e,i){this.complateFunc=e,this.complateFuncTarget=i,RES.getResByUrl(t,this.loadResVersionComplate,this)},n.loadResVersionComplate=function(t){e.resVersionData=t,this.complateFunc.call(this.complateFuncTarget)},e}(BaseClass);egret.registerClass(ResVersionManager,"ResVersionManager");var ResourceUtils=function(t){function e(){t.call(this),this._groupIndex=0,this._configs=new Array,this._groups={},RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceLoadProgress,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.addConfig=function(t,e){this._configs.push([t,e])},n.loadConfig=function(t,e){this._onConfigComplete=t,this._onConfigCompleteTarget=e,this.loadNextConfig()},n.loadNextConfig=function(){if(0==this._configs.length)return this._onConfigComplete.call(this._onConfigCompleteTarget),this._onConfigComplete=null,void(this._onConfigCompleteTarget=null);var t=this._configs.shift();RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),RES.loadConfig(t[0],t[1])},n.onConfigCompleteHandle=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigCompleteHandle,this),this.loadNextConfig()},n.loadGroup=function(t,e,i,n){this._groups[t]=[e,i,n],RES.loadGroup(t)},n.loadGroups=function(t,e,i,n,s){RES.createGroup(t,e,!0),this.loadGroup(t,i,n,s)},n.pilfererLoadGroup=function(t,e){void 0===e&&(e=null);var i="pilferer_"+t;e||(e=[t]),RES.createGroup(i,e,!0),RES.loadGroup(i,-1)},n.onResourceLoadComplete=function(t){var e=t.groupName;if(this._groups[e]){var i=this._groups[e][0],n=this._groups[e][2];null!=i&&i.call(n),this._groups[e]=null,delete this._groups[e]}},n.onResourceLoadProgress=function(t){var e=t.groupName;if(this._groups[e]){var i=this._groups[e][1],n=this._groups[e][2];null!=i&&i.call(n,t.itemsLoaded,t.itemsTotal)}},n.onResourceLoadError=function(t){Log.trace(t.groupName+"资源组有资源加载失败"),this.onResourceLoadComplete(t)},n.loadResource=function(t,e,i,n,s){void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null);var r=t.concat(e),a="loadGroup"+this._groupIndex++;RES.createGroup(a,r,!0),this._groups[a]=[i,n,s],RES.loadGroup(a)},e}(BaseClass);egret.registerClass(ResourceUtils,"ResourceUtils");var RockerUtils=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(t,e,i,n){this.keys=[0,0],this.mouseX=-1,this.mouseY=-1,this.moveFlag=e,this.moveFlagX=e.x,this.moveFlagY=e.y,this.moveFlagGoX=this.moveFlagX,this.moveFlagGoY=this.moveFlagY,this.moveFlagWidthHelf=.5*t.width,this.moveFlagRec=new egret.Rectangle(this.moveFlagX-.5*t.width,this.moveFlagY-.5*t.height,t.width,t.height),this.moveFlagCheckRec=new egret.Rectangle(0,0,.5*App.StageUtils.getWidth(),App.StageUtils.getHeight()),this.dealKeyFunc=i,this.dealKeyTarget=n,this.moveFlag.touchEnabled=!0,this.moveFlag.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.startMove,this),this.moveFlag.addEventListener(egret.TouchEvent.TOUCH_END,this.stopMove,this),this.moveFlag.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopEvent,this),App.StageUtils.getStage().addEventListener(egret.TouchEvent.TOUCH_END,this.leaveStateEvent,this),App.StageUtils.getStage().addEventListener(egret.TouchEvent.TOUCH_MOVE,this.heroMoveEvent,this),App.KeyboardUtils.addKeyDown(this.onKeyDown,this),App.KeyboardUtils.addKeyUp(this.onKeyUp,this)},n.onKeyDown=function(t){switch(t){case Keyboard.A:this.keys[0]=-1,this.startCheckKey();break;case Keyboard.D:this.keys[0]=1,this.startCheckKey();break;case Keyboard.W:this.keys[1]=-1,this.startCheckKey();break;case Keyboard.S:this.keys[1]=1,this.startCheckKey()}},n.onKeyUp=function(t){switch(t){case Keyboard.A:-1==this.keys[0]&&(this.keys[0]=0);break;case Keyboard.D:1==this.keys[0]&&(this.keys[0]=0);break;case Keyboard.W:-1==this.keys[1]&&(this.keys[1]=0);break;case Keyboard.S:1==this.keys[1]&&(this.keys[1]=0)}},n.stopEvent=function(t){t.stopPropagation()},n.leaveStateEvent=function(t){t.stageX==this.mouseX&&t.stageY==this.mouseY&&this.stopMove()},n.startMove=function(t){this.isMoveing=!0,this.moveFlagGoX=this.moveFlagX,this.moveFlagGoY=this.moveFlagY,this.mouseX=t.stageX,this.mouseY=t.stageY},n.stopMove=function(){this.isMoveing=!1,this.keys[0]=0,this.keys[1]=0,this.moveFlagGoX=this.moveFlagX,this.moveFlagGoY=this.moveFlagY,this.mouseX=-1,this.mouseY=-1},n.resetRockerPos=function(){this.moveFlag.x=this.moveFlagX,this.moveFlag.y=this.moveFlagY},n.heroMoveEvent=function(t){this.runMove(t.stageX,t.stageY)},n.runMove=function(t,e){if(this.isMoveing&&(this.moveFlagCheckRec.contains(t,e)||!(Math.abs(this.mouseX-t)>50||Math.abs(this.mouseY-e)>50))){if(this.mouseX=t,this.mouseY=e,this.moveFlagRec.contains(this.mouseX,this.mouseY))this.moveFlagGoX=this.mouseX,this.moveFlagGoY=this.mouseY;else{var i=App.MathUtils.getRadian2(this.moveFlagX,this.moveFlagY,this.mouseX,this.mouseY);this.moveFlagGoX=this.moveFlagX+Math.cos(i)*this.moveFlagWidthHelf,this.moveFlagGoY=this.moveFlagY+Math.sin(i)*this.moveFlagWidthHelf}this.moveFlagGoX>this.moveFlagX&&Math.abs(this.moveFlagGoX-this.moveFlagX)>10?this.keys[0]=1:this.moveFlagGoX<this.moveFlagX&&Math.abs(this.moveFlagGoX-this.moveFlagX)>10?this.keys[0]=-1:this.keys[0]=0,this.moveFlagGoY>this.moveFlagY&&Math.abs(this.moveFlagGoY-this.moveFlagY)>10?this.keys[1]=1:this.moveFlagGoY<this.moveFlagY&&Math.abs(this.moveFlagGoY-this.moveFlagY)>10?this.keys[1]=-1:this.keys[1]=0,this.startCheckKey()}},n.startCheckKey=function(){this.checkKeying||(this.checkKeying=!0,App.TimerManager.doFrame(1,0,this.delKeys,this))},n.stopCheckKey=function(){this.keys[0]=0,this.keys[1]=0,this.checkKeying&&(App.TimerManager.remove(this.delKeys,this),this.checkKeying=!1)},n.delKeys=function(){-1==this.mouseX||this.moveFlagCheckRec.contains(this.mouseX,this.mouseY)||this.stopMove(),this.moveFlag.x!=this.moveFlagGoX&&(this.moveFlag.x=this.moveFlagGoX),this.moveFlag.y!=this.moveFlagGoY&&(this.moveFlag.y=this.moveFlagGoY),this.keys[0]||this.keys[1]||this.stopCheckKey(),this.dealKeyFunc.call(this.dealKeyTarget,this.keys[0],this.keys[1])||this.resetRockerPos()},n.stop=function(){this.stopCheckKey(),this.stopMove()},e}(BaseClass);egret.registerClass(RockerUtils,"RockerUtils");var SceneEvent=function(t){function e(){t.apply(this,arguments),this.sceneID=0}__extends(e,t);var i=(__define,e);i.prototype;return e.CHANGE_SCENE="CHANGE_SCENE",e}(egret.Event);egret.registerClass(SceneEvent,"SceneEvent");var SceneUtil;!function(t){function e(t){this.sceneContainer=t}function i(t,e){if(t)this.sceneContainer.addChild(t);else{var i=egret.getDefinitionByName(egret.getQualifiedClassName(e)),n=new i;this.sceneContainer.addChild(n),t=n,this.sceneArr.push(t)}return t}function n(t){for(var e=0;e<this.sceneArr.length;e++){var i=this.sceneArr[e];i!=t&&this.sceneContainer.contains(i)&&this.sceneContainer.removeChild(i)}}function s(t){var e=new SceneEvent(SceneEvent.CHANGE_SCENE);e.sceneID=t,Global.dispatchEvent(SceneEvent.CHANGE_SCENE,e)}t.sceneArr=[],t.init=e,t.addScene=i,t.removeOtherSceneByTarget=n,t.changeScene=s}(SceneUtil||(SceneUtil={}));var ShockUtils=function(t){function e(){t.call(this),this.MAP=0,this.SPRITE=1,this.mapPoss=[new egret.Point(0,3),new egret.Point(0,0),new egret.Point(0,-2)],this.spritePoss=[new egret.Point(5,0),new egret.Point(-5,0),new egret.Point(5,0)],this._shockLength=0,this._shockCount=0,this._rx=0,this._ry=0,this._type=0,this._repeatCount=0}__extends(e,t);var i=__define,n=e,s=n.prototype;return s.destroy=function(){this.stop()},s.shock=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=null),void 0===i&&(i=3),this._target||(this._type=t,this._target=e,this._type==this.MAP?(this._shockPoss=this.mapPoss.concat(),this._shockLength=this._shockPoss.length):this._type==this.SPRITE&&(this._shockPoss=this.spritePoss.concat(),this._shockLength=this._shockPoss.length),this.start(i))},s.start=function(t){void 0===t&&(t=1),this.repeatCount=t,this._shockCount=0,this._target&&(this._type!=this.MAP&&(this._rx=this._target.x),this._ry=this._target.y,App.TimerManager.doFrame(1,0,this.onShockEnter,this))},s.stop=function(){this._target&&(this._type!=this.MAP&&(this._target.x=this._rx),this._target.y=this._ry,App.TimerManager.remove(this.onShockEnter,this)),this._target=null},s.onShockEnter=function(t){var e=this._shockLength*this._repeatCount;if(this._shockCount>=e)return void this.stop();var i=this._shockCount%this._shockLength,n=this._shockPoss[i];this._target&&(this._type!=this.MAP&&(this._target.x=this._rx+n.x),this._target.y=this._ry+n.y),this._shockCount++},i(s,"repeatCount",function(){return this._repeatCount},function(t){this._repeatCount=t}),e}(BaseClass);egret.registerClass(ShockUtils,"ShockUtils");var SoundUtils=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.play=function(t,e,i){this.sound=RES.getRes(t),this.channel=this.sound.play(e,i)},n.stop=function(){this.channel.stop()},e}(BaseClass);egret.registerClass(SoundUtils,"SoundUtils");var StageUtils=function(t){function e(){t.call(this),null==e._uiStage&&(e._uiStage=new eui.UILayer,e._uiStage.percentHeight=100,e._uiStage.percentWidth=100,this.getStage().addChild(e._uiStage))}__extends(e,t);var i=(__define,e),n=i.prototype;return n.getHeight=function(){return this.getStage().stageHeight},n.getWidth=function(){return this.getStage().stageWidth},n.setTouchChildren=function(t){this.getStage().touchChildren=t},n.setMaxTouches=function(t){this.getStage().maxTouches=t},n.setFrameRate=function(t){this.getStage().frameRate=t},n.setScaleMode=function(t){this.getStage().scaleMode=t},n.getStage=function(){return egret.MainContext.instance.stage},n.getUIStage=function(){return e._uiStage},e}(BaseClass);egret.registerClass(StageUtils,"StageUtils");var StringBuffer=function(){function t(){this._strings=new Array}var e=(__define,t),i=e.prototype;return i.append=function(t){this._strings.push(t)},i.toString=function(){return this._strings.join("")},i.clear=function(){this._strings.length=0},t}();egret.registerClass(StringBuffer,"StringBuffer");var StringUtils=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.trimSpace=function(t){return t.replace(/^\s*(.*?)[\s\n]*$/g,"$1")},n.getStringLength=function(t){for(var e=t.split(""),i=0,n=0;n<e.length;n++){var s=e[n];i+=this.isChinese(s)?2:1}return i},n.isChinese=function(t){var e=/^[\u4E00-\u9FA5]+$/;return e.test(t)?!1:!0},e}(BaseClass);egret.registerClass(StringUtils,"StringUtils");var TextFlowMaker=function(t){function e(){t.call(this),this.STYLE_COLOR="C",this.STYLE_SIZE="S",this.PROP_TEXT="T"}__extends(e,t);var i=(__define,e),n=i.prototype;return n.generateTextFlow=function(t){for(var e=t.split("|"),i=[],n=0,s=e.length;s>n;n++)i.push(this.getSingleTextFlow(e[n]));return i},n.getSingleTextFlow=function(t){for(var e,i=t.split("&"),n={style:{}},s=0,r=i.length;r>s;s++)e=i[s].split(":"),e[0]==this.PROP_TEXT?n.text=e[1]:e[0]==this.STYLE_SIZE?n.style.size=parseInt(e[1]):e[0]==this.STYLE_COLOR?n.style.textColor=parseInt(e[1]):n.text=e[0];return n},e}(BaseClass);egret.registerClass(TextFlowMaker,"TextFlowMaker");var TimerManager=function(t){function e(){t.call(this),this._handlers=new Array,this._delHandlers=new Array,this._currTime=egret.getTimer(),this._currFrame=0,this._count=0,this._timeScale=1,egret.Ticker.getInstance().register(this.onEnterFrame,this)}__extends(e,t);var i=__define,n=e,s=n.prototype;return s.setTimeScale=function(t){this._timeScale=t},s.onEnterFrame=function(){this._currFrame++,this._currTime=egret.getTimer(),App.DebugUtils.start("TimerManager:");for(var t=0;t<this._count;t++){var e=this._handlers[t],i=e.userFrame?this._currFrame:this._currTime;i>=e.exeTime&&(App.DebugUtils.start(e.method.toString()),e.method.call(e.methodObj,(this._currTime-e.dealTime)*this._timeScale),App.DebugUtils.stop(e.method.toString()),e.dealTime=this._currTime,e.exeTime+=e.delay,e.repeat||(e.repeatCount>1?e.repeatCount--:(e.complateMethod&&e.complateMethod.apply(e.complateMethodObj),this._delHandlers.push(e))))}for(;this._delHandlers.length;){var e=this._delHandlers.pop();this.remove(e.method,e.methodObj)}App.DebugUtils.stop("TimerManager:")},s.create=function(t,e,i,n,s,r,a){if(!(0>e||0>i||null==n)){this.remove(n,s);var o=ObjectPool.pop("TimerHandler");o.userFrame=t,o.repeat=0==i,o.repeatCount=i,o.delay=e,o.method=n,o.methodObj=s,o.complateMethod=r,o.complateMethodObj=a,o.exeTime=e+(t?this._currFrame:this._currTime),o.dealTime=this._currTime,this._handlers.push(o),this._count++}},s.doTimer=function(t,e,i,n,s,r){void 0===s&&(s=null),void 0===r&&(r=null),this.create(!1,t,e,i,n,s,r)},s.doFrame=function(t,e,i,n,s,r){void 0===s&&(s=null),void 0===r&&(r=null),this.create(!0,t,e,i,n,s,r)},i(s,"count",function(){return this._count}),s.remove=function(t,e){for(var i=0;i<this._count;i++){var n=this._handlers[i];if(n.method==t&&n.methodObj==e){this._handlers.splice(i,1),ObjectPool.push(n),this._count--;break}}},s.removeAll=function(t){for(var e=0;e<this._count;e++){var i=this._handlers[e];i.methodObj==t&&(this._handlers.splice(e,1),ObjectPool.push(i),this._count--,e--)}},s.isExists=function(t,e){for(var i=0;i<this._count;i++){var n=this._handlers[i];if(n.method==t&&n.methodObj==e)return!0}return!1},e}(BaseClass);egret.registerClass(TimerManager,"TimerManager");var TimerHandler=function(){function t(){this.delay=0,this.repeatCount=0,this.exeTime=0,this.dealTime=0}var e=(__define,t),i=e.prototype;return i.clear=function(){this.method=null,this.methodObj=null,this.complateMethod=null,this.complateMethodObj=null},t}();egret.registerClass(TimerHandler,"TimerHandler");var BitmapBlink=function(t){function e(e,i,n){void 0===n&&(n=!0),t.call(this),this._target=e,this._time=i,n&&this.start()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.start=function(){this._currTime=egret.getTimer(),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this)},n.runDown=function(t){this._target.alpha-=.045,this.checkOver()||this._target.alpha<=.6&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runUp,this))},n.runUp=function(t){this._target.alpha+=.045,this.checkOver()||this._target.alpha>=1&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this))},n.checkOver=function(){var t=egret.getTimer();return t-this._currTime>=this._time?(this.destroy(),!0):!1},n.destroy=function(){this._target.alpha=1,this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,this._target),this._target=null},e}(egret.EventDispatcher);egret.registerClass(BitmapBlink,"BitmapBlink");var lcp;!function(t){var e=function(t){function e(e,i,n,s){void 0===i&&(i=null),void 0===n&&(n=!1),void 0===s&&(s=!1),t.call(this,e),this.CLASS_NAME="LEvent",i&&(this._obj=i)}__extends(e,t);var i=__define,n=e,s=n.prototype;return s.clone=function(t){return new e(this.type,t?t:this._obj,this.bubbles,this.cancelable)},s.toString=function(){console.log(this.CLASS_NAME,"type","bubbles","cancelable")},i(s,"param",function(){return this._obj}),e}(egret.Event);t.LEvent=e,egret.registerClass(e,"lcp.LEvent")}(lcp||(lcp={}));var lcp;!function(t){var e=function(){function t(){this.CLASS_NAME="LListener",this.isInit=!1,this.isInit,null==this._dispatcher&&(this._dispatcher=new egret.EventDispatcher,this.isInit=!0)}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},i.addEventListener=function(t,e,i,n,s){void 0===n&&(n=!1),void 0===s&&(s=0),this._dispatcher.addEventListener(t,e,i,n,s)},i.removeEventListener=function(t,e,i,n){void 0===n&&(n=!1),this._dispatcher.removeEventListener(t,e,i,n)},i.hasEventListener=function(t){return this._dispatcher.hasEventListener(t)},i.willTrigger=function(t){return this._dispatcher.willTrigger(t)},i.dispatchEvent=function(t){return this._dispatcher.dispatchEvent(t)},i.toString=function(){return this._dispatcher.toString()},t}();t.LListener=e,egret.registerClass(e,"lcp.LListener")}(lcp||(lcp={}));var md5=function(){function t(){this.hexcase=0,this.b64pad=""}var e=(__define,t),i=e.prototype;return i.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},i.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},i.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},i.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},i.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},i.any_hmac_md5=function(t,e,i){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),i)},i.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},i.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},i.rstr_hmac_md5=function(t,e){var i=this.rstr2binl(t);i.length>16&&(i=this.binl_md5(i,8*t.length));for(var n=Array(16),s=Array(16),r=0;16>r;r++)n[r]=909522486^i[r],s[r]=1549556828^i[r];var a=this.binl_md5(n.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(s.concat(a),640))},i.rstr2hex=function(t){try{this.hexcase}catch(e){this.hexcase=0}for(var i,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",s="",r=0;r<t.length;r++)i=t.charCodeAt(r),s+=n.charAt(i>>>4&15)+n.charAt(15&i);return s},i.rstr2b64=function(t){try{this.b64pad}catch(e){this.b64pad=""}for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",s=t.length,r=0;s>r;r+=3)for(var a=t.charCodeAt(r)<<16|(s>r+1?t.charCodeAt(r+1)<<8:0)|(s>r+2?t.charCodeAt(r+2):0),o=0;4>o;o++)n+=8*r+6*o>8*t.length?this.b64pad:i.charAt(a>>>6*(3-o)&63);return n},i.rstr2any=function(t,e){var i,n,s,r,a,o=e.length,h=Array(Math.ceil(t.length/2));for(i=0;i<h.length;i++)h[i]=t.charCodeAt(2*i)<<8|t.charCodeAt(2*i+1);var c=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),l=Array(c);for(n=0;c>n;n++){for(a=Array(),r=0,i=0;i<h.length;i++)r=(r<<16)+h[i],s=Math.floor(r/o),r-=s*o,(a.length>0||s>0)&&(a[a.length]=s);
l[n]=r,h=a}var u="";for(i=l.length-1;i>=0;i--)u+=e.charAt(l[i]);return u},i.str2rstr_utf8=function(t){for(var e,i,n="",s=-1;++s<t.length;)e=t.charCodeAt(s),i=s+1<t.length?t.charCodeAt(s+1):0,e>=55296&&56319>=e&&i>=56320&&57343>=i&&(e=65536+((1023&e)<<10)+(1023&i),s++),127>=e?n+=String.fromCharCode(e):2047>=e?n+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?n+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(n+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return n},i.str2rstr_utf16le=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i),t.charCodeAt(i)>>>8&255);return e},i.str2rstr_utf16be=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t.charCodeAt(i)>>>8&255,255&t.charCodeAt(i));return e},i.rstr2binl=function(t){for(var e=Array(t.length>>2),i=0;i<e.length;i++)e[i]=0;for(var i=0;i<8*t.length;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return e},i.binl2rstr=function(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e},i.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var i=1732584193,n=-271733879,s=-1732584194,r=271733878,a=0;a<t.length;a+=16){var o=i,h=n,c=s,l=r;i=this.md5_ff(i,n,s,r,t[a+0],7,-680876936),r=this.md5_ff(r,i,n,s,t[a+1],12,-389564586),s=this.md5_ff(s,r,i,n,t[a+2],17,606105819),n=this.md5_ff(n,s,r,i,t[a+3],22,-1044525330),i=this.md5_ff(i,n,s,r,t[a+4],7,-176418897),r=this.md5_ff(r,i,n,s,t[a+5],12,1200080426),s=this.md5_ff(s,r,i,n,t[a+6],17,-1473231341),n=this.md5_ff(n,s,r,i,t[a+7],22,-45705983),i=this.md5_ff(i,n,s,r,t[a+8],7,1770035416),r=this.md5_ff(r,i,n,s,t[a+9],12,-1958414417),s=this.md5_ff(s,r,i,n,t[a+10],17,-42063),n=this.md5_ff(n,s,r,i,t[a+11],22,-1990404162),i=this.md5_ff(i,n,s,r,t[a+12],7,1804603682),r=this.md5_ff(r,i,n,s,t[a+13],12,-40341101),s=this.md5_ff(s,r,i,n,t[a+14],17,-1502002290),n=this.md5_ff(n,s,r,i,t[a+15],22,1236535329),i=this.md5_gg(i,n,s,r,t[a+1],5,-165796510),r=this.md5_gg(r,i,n,s,t[a+6],9,-1069501632),s=this.md5_gg(s,r,i,n,t[a+11],14,643717713),n=this.md5_gg(n,s,r,i,t[a+0],20,-373897302),i=this.md5_gg(i,n,s,r,t[a+5],5,-701558691),r=this.md5_gg(r,i,n,s,t[a+10],9,38016083),s=this.md5_gg(s,r,i,n,t[a+15],14,-660478335),n=this.md5_gg(n,s,r,i,t[a+4],20,-405537848),i=this.md5_gg(i,n,s,r,t[a+9],5,568446438),r=this.md5_gg(r,i,n,s,t[a+14],9,-1019803690),s=this.md5_gg(s,r,i,n,t[a+3],14,-187363961),n=this.md5_gg(n,s,r,i,t[a+8],20,1163531501),i=this.md5_gg(i,n,s,r,t[a+13],5,-1444681467),r=this.md5_gg(r,i,n,s,t[a+2],9,-51403784),s=this.md5_gg(s,r,i,n,t[a+7],14,1735328473),n=this.md5_gg(n,s,r,i,t[a+12],20,-1926607734),i=this.md5_hh(i,n,s,r,t[a+5],4,-378558),r=this.md5_hh(r,i,n,s,t[a+8],11,-2022574463),s=this.md5_hh(s,r,i,n,t[a+11],16,1839030562),n=this.md5_hh(n,s,r,i,t[a+14],23,-35309556),i=this.md5_hh(i,n,s,r,t[a+1],4,-1530992060),r=this.md5_hh(r,i,n,s,t[a+4],11,1272893353),s=this.md5_hh(s,r,i,n,t[a+7],16,-155497632),n=this.md5_hh(n,s,r,i,t[a+10],23,-1094730640),i=this.md5_hh(i,n,s,r,t[a+13],4,681279174),r=this.md5_hh(r,i,n,s,t[a+0],11,-358537222),s=this.md5_hh(s,r,i,n,t[a+3],16,-722521979),n=this.md5_hh(n,s,r,i,t[a+6],23,76029189),i=this.md5_hh(i,n,s,r,t[a+9],4,-640364487),r=this.md5_hh(r,i,n,s,t[a+12],11,-421815835),s=this.md5_hh(s,r,i,n,t[a+15],16,530742520),n=this.md5_hh(n,s,r,i,t[a+2],23,-995338651),i=this.md5_ii(i,n,s,r,t[a+0],6,-198630844),r=this.md5_ii(r,i,n,s,t[a+7],10,1126891415),s=this.md5_ii(s,r,i,n,t[a+14],15,-1416354905),n=this.md5_ii(n,s,r,i,t[a+5],21,-57434055),i=this.md5_ii(i,n,s,r,t[a+12],6,1700485571),r=this.md5_ii(r,i,n,s,t[a+3],10,-1894986606),s=this.md5_ii(s,r,i,n,t[a+10],15,-1051523),n=this.md5_ii(n,s,r,i,t[a+1],21,-2054922799),i=this.md5_ii(i,n,s,r,t[a+8],6,1873313359),r=this.md5_ii(r,i,n,s,t[a+15],10,-30611744),s=this.md5_ii(s,r,i,n,t[a+6],15,-1560198380),n=this.md5_ii(n,s,r,i,t[a+13],21,1309151649),i=this.md5_ii(i,n,s,r,t[a+4],6,-145523070),r=this.md5_ii(r,i,n,s,t[a+11],10,-1120210379),s=this.md5_ii(s,r,i,n,t[a+2],15,718787259),n=this.md5_ii(n,s,r,i,t[a+9],21,-343485551),i=this.safe_add(i,o),n=this.safe_add(n,h),s=this.safe_add(s,c),r=this.safe_add(r,l)}return[i,n,s,r]},i.md5_cmn=function(t,e,i,n,s,r){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(n,r)),s),i)},i.md5_ff=function(t,e,i,n,s,r,a){return this.md5_cmn(e&i|~e&n,t,e,s,r,a)},i.md5_gg=function(t,e,i,n,s,r,a){return this.md5_cmn(e&n|i&~n,t,e,s,r,a)},i.md5_hh=function(t,e,i,n,s,r,a){return this.md5_cmn(e^i^n,t,e,s,r,a)},i.md5_ii=function(t,e,i,n,s,r,a){return this.md5_cmn(i^(e|~n),t,e,s,r,a)},i.safe_add=function(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i},i.bit_rol=function(t,e){return t<<e|t>>>32-e},t}();egret.registerClass(md5,"md5");var qr;!function(t){var e=function(){function e(e){this.mode=t.QRMode.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var i=0,n=this.data.length;n>i;i++){var s=[],r=this.data.charCodeAt(i);r>65536?(s[0]=240|(1835008&r)>>>18,s[1]=128|(258048&r)>>>12,s[2]=128|(4032&r)>>>6,s[3]=128|63&r):r>2048?(s[0]=224|(61440&r)>>>12,s[1]=128|(4032&r)>>>6,s[2]=128|63&r):r>128?(s[0]=192|(1984&r)>>>6,s[1]=128|63&r):s[0]=r,this.parsedData.push(s)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}var i=(__define,e),n=i.prototype;return n.getLength=function(t){return this.parsedData.length},n.write=function(t){for(var e=0,i=this.parsedData.length;i>e;e++)t.put(this.parsedData[e],8)},e}();t.QR8bitByte=e,egret.registerClass(e,"qr.QR8bitByte")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){this.buffer=[],this.length=0}var e=(__define,t),i=e.prototype;return i.get=function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},i.put=function(t,e){for(var i=0;e>i;i++)this.putBit(1==(t>>>e-i-1&1))},i.getLengthInBits=function(){return this.length},i.putBit=function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++},t}();t.QRBitBuffer=e,egret.registerClass(e,"qr.QRBitBuffer")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}var i=(__define,e),n=i.prototype;return n.get=function(t){return this.num[t]},n.getLength=function(){return this.num.length},n.multiply=function(i){for(var n=new Array(this.getLength()+i.getLength()-1),s=0;s<this.getLength();s++)for(var r=0;r<i.getLength();r++)n[s+r]^=t.QRMath.gexp(t.QRMath.glog(this.get(s))+t.QRMath.glog(i.get(r)));return new e(n,0)},n.mod=function(i){if(this.getLength()-i.getLength()<0)return this;for(var n=t.QRMath.glog(this.get(0))-t.QRMath.glog(i.get(0)),s=new Array(this.getLength()),r=0;r<this.getLength();r++)s[r]=this.get(r);for(var r=0;r<i.getLength();r++)s[r]^=t.QRMath.gexp(t.QRMath.glog(i.get(r))+n);return new e(s,0).mod(i)},e}();t.QRPolynomial=e,egret.registerClass(e,"qr.QRPolynomial")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(){}var i=(__define,e);i.prototype;return e.create=function(i,n,s,r,a){void 0===n&&(n=0),void 0===s&&(s=200),void 0===r&&(r=200),void 0===a&&(a=2);var o={width:s,height:r,correctLevel:t.QRErrorCorrectLevel.H,color:n},h=new t.QRCodeModel(t.QRUtil._getTypeNumber(i,o.correctLevel),o.correctLevel);return h.addData(i),h.make(),e.draw(h,o)},e.draw=function(t,e){for(var i=new egret.Sprite,e=e,n=t.getModuleCount(),s=Math.floor(e.width/n),r=Math.floor(e.height/n),a=0;n>a;a++)for(var o=0;n>o;o++){var h=t.isDark(a,o);h&&(i.graphics.beginFill(e.color),i.graphics.drawRect(o*s,a*r,s,r),i.graphics.endFill())}return i},e}();t.QRCode=e,egret.registerClass(e,"qr.QRCode")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(t,e){this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var i=(__define,e),n=i.prototype;return n.addData=function(e){var i=new t.QR8bitByte(e);this.dataList.push(i),this.dataCache=null},n.isDark=function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},n.getModuleCount=function(){return this.moduleCount},n.make=function(){this.makeImpl(!1,this.getBestMaskPattern())},n.makeImpl=function(t,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++)this.modules[n][s]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},n.setupPositionProbePattern=function(t,e){for(var i=-1;7>=i;i++)if(!(-1>=t+i||this.moduleCount<=t+i))for(var n=-1;7>=n;n++)-1>=e+n||this.moduleCount<=e+n||(i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n?this.modules[t+i][e+n]=!0:this.modules[t+i][e+n]=!1)},n.getBestMaskPattern=function(){for(var e=0,i=0,n=0;8>n;n++){this.makeImpl(!0,n);var s=t.QRUtil.getLostPoint(this);(0==n||e>s)&&(e=s,i=n)}return i},n.createMovieClip=function(t,e,i){var n=t.createEmptyMovieClip(e,i),s=1;this.make();for(var r=0;r<this.modules.length;r++)for(var a=r*s,o=0;o<this.modules[r].length;o++){var h=o*s,c=this.modules[r][o];c&&(n.beginFill(0,100),n.moveTo(h,a),n.lineTo(h+s,a),n.lineTo(h+s,a+s),n.lineTo(h,a+s),n.endFill())}return n},n.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},n.setupPositionAdjustPattern=function(){for(var e=t.QRUtil.getPatternPosition(this.typeNumber),i=0;i<e.length;i++)for(var n=0;n<e.length;n++){var s=e[i],r=e[n];if(null==this.modules[s][r])for(var a=-2;2>=a;a++)for(var o=-2;2>=o;o++)-2==a||2==a||-2==o||2==o||0==a&&0==o?this.modules[s+a][r+o]=!0:this.modules[s+a][r+o]=!1}},n.setupTypeNumber=function(e){for(var i=t.QRUtil.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var s=!e&&1==(i>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=s}for(var n=0;18>n;n++){var s=!e&&1==(i>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=s}},n.setupTypeInfo=function(e,i){for(var n=this.errorCorrectLevel<<3|i,s=t.QRUtil.getBCHTypeInfo(n),r=0;15>r;r++){var a=!e&&1==(s>>r&1);6>r?this.modules[r][8]=a:8>r?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(var r=0;15>r;r++){var a=!e&&1==(s>>r&1);8>r?this.modules[8][this.moduleCount-r-1]=a:9>r?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!e},n.mapData=function(e,i){for(var n=-1,s=this.moduleCount-1,r=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var h=0;2>h;h++)if(null==this.modules[s][o-h]){var c=!1;a<e.length&&(c=1==(e[a]>>>r&1));var l=t.QRUtil.getMask(i,s,o-h);l&&(c=!c),this.modules[s][o-h]=c,r--,-1==r&&(a++,r=7)}if(s+=n,0>s||this.moduleCount<=s){s-=n,n=-n;break}}},e.createData=function(i,n,s){for(var r=t.QRRSBlock.getRSBlocks(i,n),a=new t.QRBitBuffer,o=0;o<s.length;o++){var h=s[o];a.put(h.mode,4),a.put(h.getLength(),t.QRUtil.getLengthInBits(h.mode,i)),h.write(a)}for(var c=0,o=0;o<r.length;o++)c+=r[o].dataCount;if(a.getLengthInBits()>8*c)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*c+")");for(a.getLengthInBits()+4<=8*c&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*c)&&(a.put(e.PAD0,8),!(a.getLengthInBits()>=8*c));)a.put(e.PAD1,8);return e.createBytes(a,r)},e.createBytes=function(e,i){for(var n=0,s=0,r=0,a=new Array(i.length),o=new Array(i.length),h=0;h<i.length;h++){var c=i[h].dataCount,l=i[h].totalCount-c;s=Math.max(s,c),r=Math.max(r,l),a[h]=new Array(c);for(var u=0;u<a[h].length;u++)a[h][u]=255&e.buffer[u+n];n+=c;var g=t.QRUtil.getErrorCorrectPolynomial(l),d=new t.QRPolynomial(a[h],g.getLength()-1),f=d.mod(g);o[h]=new Array(g.getLength()-1);for(var u=0;u<o[h].length;u++){var p=u+f.getLength()-o[h].length;o[h][u]=p>=0?f.get(p):0}}for(var m=0,u=0;u<i.length;u++)m+=i[u].totalCount;for(var v=new Array(m),_=0,u=0;s>u;u++)for(var h=0;h<i.length;h++)u<a[h].length&&(v[_++]=a[h][u]);for(var u=0;r>u;u++)for(var h=0;h<i.length;h++)u<o[h].length&&(v[_++]=o[h][u]);return v},e.PAD0=236,e.PAD1=17,e}();t.QRCodeModel=e,egret.registerClass(e,"qr.QRCodeModel")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.L=1,t.M=0,t.Q=3,t.H=2,t}();t.QRErrorCorrectLevel=e,egret.registerClass(e,"qr.QRErrorCorrectLevel")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.PATTERN000=0,t.PATTERN001=1,t.PATTERN010=2,t.PATTERN011=3,t.PATTERN100=4,t.PATTERN101=5,t.PATTERN110=6,t.PATTERN111=7,t}();t.QRMaskPattern=e,egret.registerClass(e,"qr.QRMaskPattern")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.glog=function(e){return t.isInit||t.init(),1>e&&console.log("错误:n="+e),t.LOG_TABLE[e]},t.gexp=function(e){for(t.isInit||t.init();0>e;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},t.init=function(){t.isInit=!0;for(var e=0;8>e;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;256>e;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;255>e;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e},t.EXP_TABLE=new Array(256),t.LOG_TABLE=new Array(256),t}();t.QRMath=e,egret.registerClass(e,"qr.QRMath")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.MODE_NUMBER=1,t.MODE_ALPHA_NUM=2,t.MODE_8BIT_BYTE=4,t.MODE_KANJI=8,t}();t.QRMode=e,egret.registerClass(e,"qr.QRMode")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(t,e){this.totalCount=t,this.dataCount=e}var i=(__define,e);i.prototype;return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,i){var n=e.getRsBlockTable(t,i);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);for(var s=n.length/3,r=[],a=0;s>a;a++)for(var o=n[3*a+0],h=n[3*a+1],c=n[3*a+2],l=0;o>l;l++)r.push(new e(h,c));return r},e.getRsBlockTable=function(i,n){switch(n){case t.QRErrorCorrectLevel.L:return e.RS_BLOCK_TABLE[4*(i-1)+0];case t.QRErrorCorrectLevel.M:return e.RS_BLOCK_TABLE[4*(i-1)+1];case t.QRErrorCorrectLevel.Q:return e.RS_BLOCK_TABLE[4*(i-1)+2];case t.QRErrorCorrectLevel.H:return e.RS_BLOCK_TABLE[4*(i-1)+3];default:return}},e}();t.QRRSBlock=e,egret.registerClass(e,"qr.QRRSBlock")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(){}var i=(__define,e),n=i.prototype;return e.getBCHTypeInfo=function(t){for(var i=t<<10;e.getBCHDigit(i)-e.getBCHDigit(e.G15)>=0;)i^=e.G15<<e.getBCHDigit(i)-e.getBCHDigit(e.G15);return(t<<10|i)^e.G15_MASK},e.getBCHTypeNumber=function(t){for(var i=t<<12;e.getBCHDigit(i)-e.getBCHDigit(e.G18)>=0;)i^=e.G18<<e.getBCHDigit(i)-e.getBCHDigit(e.G18);return t<<12|i},e.getBCHDigit=function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},e.getPatternPosition=function(t){return e.PATTERN_POSITION_TABLE[t-1]},e.getMask=function(e,i,n){switch(e){case t.QRMaskPattern.PATTERN000:return(i+n)%2==0;case t.QRMaskPattern.PATTERN001:return i%2==0;case t.QRMaskPattern.PATTERN010:return n%3==0;case t.QRMaskPattern.PATTERN011:return(i+n)%3==0;case t.QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2==0;case t.QRMaskPattern.PATTERN101:return i*n%2+i*n%3==0;case t.QRMaskPattern.PATTERN110:return(i*n%2+i*n%3)%2==0;case t.QRMaskPattern.PATTERN111:return(i*n%3+(i+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},e.getErrorCorrectPolynomial=function(e){for(var i=new t.QRPolynomial([1],0),n=0;e>n;n++)i=i.multiply(new t.QRPolynomial([1,t.QRMath.gexp(n)],0));return i},e.getLengthInBits=function(e,i){if(i>=1&&10>i)switch(e){case t.QRMode.MODE_NUMBER:return 10;case t.QRMode.MODE_ALPHA_NUM:return 9;case t.QRMode.MODE_8BIT_BYTE:return 8;case t.QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(27>i)switch(e){case t.QRMode.MODE_NUMBER:return 12;case t.QRMode.MODE_ALPHA_NUM:return 11;case t.QRMode.MODE_8BIT_BYTE:return 16;case t.QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(41>i))throw new Error("type:"+i);switch(e){case t.QRMode.MODE_NUMBER:return 14;case t.QRMode.MODE_ALPHA_NUM:return 13;case t.QRMode.MODE_8BIT_BYTE:return 16;case t.QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},e.getLostPoint=function(t){for(var e=t.getModuleCount(),i=0,n=0;e>n;n++)for(var s=0;e>s;s++){for(var r=0,a=t.isDark(n,s),o=-1;1>=o;o++)if(!(0>n+o||n+o>=e))for(var h=-1;1>=h;h++)0>s+h||s+h>=e||(0!=o||0!=h)&&a==t.isDark(n+o,s+h)&&r++;r>5&&(i+=3+r-5)}for(var n=0;e-1>n;n++)for(var s=0;e-1>s;s++){var c=0;t.isDark(n,s)&&c++,t.isDark(n+1,s)&&c++,t.isDark(n,s+1)&&c++,t.isDark(n+1,s+1)&&c++,(0==c||4==c)&&(i+=3)}for(var n=0;e>n;n++)for(var s=0;e-6>s;s++)t.isDark(n,s)&&!t.isDark(n,s+1)&&t.isDark(n,s+2)&&t.isDark(n,s+3)&&t.isDark(n,s+4)&&!t.isDark(n,s+5)&&t.isDark(n,s+6)&&(i+=40);for(var s=0;e>s;s++)for(var n=0;e-6>n;n++)t.isDark(n,s)&&!t.isDark(n+1,s)&&t.isDark(n+2,s)&&t.isDark(n+3,s)&&t.isDark(n+4,s)&&!t.isDark(n+5,s)&&t.isDark(n+6,s)&&(i+=40);for(var l=0,s=0;e>s;s++)for(var n=0;e>n;n++)t.isDark(n,s)&&l++;var u=Math.abs(100*l/e/e-50)/5;return i+=10*u},n.static_isSupportCanvas=function(){return"undefined"!=typeof CanvasRenderingContext2D},e._getTypeNumber=function(i,n){for(var s=1,r=e._getUTF8Length(i),a=0,o=e.QRCodeLimitLength.length;o>=a;a++){var h=0;switch(n){case t.QRErrorCorrectLevel.L:h=e.QRCodeLimitLength[a][0];break;case t.QRErrorCorrectLevel.M:h=e.QRCodeLimitLength[a][1];break;case t.QRErrorCorrectLevel.Q:h=e.QRCodeLimitLength[a][2];break;case t.QRErrorCorrectLevel.H:h=e.QRCodeLimitLength[a][3]}if(h>=r)break;s++}if(s>e.QRCodeLimitLength.length)throw new Error("Too long data");return s},e._getUTF8Length=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)},e.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e.G15=1335,e.G18=7973,e.G15_MASK=21522,e.QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],e}();t.QRUtil=e,egret.registerClass(e,"qr.QRUtil")}(qr||(qr={}));var BitmapDisplay=function(t){function e(e){void 0===e&&(e=""),t.call(this),""!=e&&this.setBitmapByName(e)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.setBitmapByName=function(t){var e=RES.getRes(t);return this.texture=e,this.texture},n.setBitmapByTexture=function(t){this.texture=t},n.load=function(t,e,i){var n=this;void 0===e&&(e=null),void 0===i&&(i=null);var s=new egret.URLLoader;s.dataFormat=egret.URLLoaderDataFormat.TEXTURE,s.addEventListener(egret.Event.COMPLETE,function(t){s=t.target,n.texture=s.data,e&&i&&e.call(i)},this),s.load(new egret.URLRequest(t))},n.dispose=function(){if(this.texture){var t=this.texture;t.dispose()}},n.setFullScreen=function(){this.scaleX=this.scaleY=Math.max(GameConfig.curWidth()/this.width,GameConfig.curHeight()/this.height)},e}(egret.Bitmap);egret.registerClass(BitmapDisplay,"BitmapDisplay");var DisplayScrollerScene=function(t){function e(){t.call(this),this.group=new eui.Group,this.scroller=new eui.Scroller,this.scroller.viewport=this.group,this.addChild(this.scroller)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.setViewRect=function(t,e){void 0===t&&(t=document.documentElement.clientWidth),void 0===e&&(e=document.documentElement.clientHeight);var i=navigator.userAgent.toLowerCase();switch(egret.Capabilities.os){case"iOS":-1!=i.indexOf("ipad")?(this.scroller.width=2*t,this.scroller.height=.85*e):e<this.height/2?(this.scroller.height=2*e,this.scroller.width=2*t):(this.scroller.height=this.height,this.scroller.width=this.width);break;case"Android":case"Windows Phone":case"Mac OS":e<this.height/2?(this.scroller.height=2*e,this.scroller.width=2*t):(this.scroller.height=this.height,this.scroller.width=this.width);break;case"Windows PC":case"Unknown":e<this.height/2?(this.scroller.height=2*e,this.scroller.width=2*t):(this.scroller.height=this.height,this.scroller.width=this.width)}},n.setFullScreen=function(){this.scaleX=this.scaleY=Math.max(GameConfig.curWidth()/this.width,GameConfig.curHeight()/this.height)},n.setHorizontalCenter=function(t){return t.x=.5*(this.width-t.width*t.scaleX),new egret.Point(t.x,t.y)},n.setVerticalCenter=function(t){return t.y=.5*(this.height-t.height*t.scaleY),new egret.Point(t.x,t.y)},e}(egret.DisplayObjectContainer);egret.registerClass(DisplayScrollerScene,"DisplayScrollerScene");var BlackRcet=function(t){function e(){t.call(this),this.createScnen()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createScnen=function(){this.width=640,this.height=1030,this.rect=new egret.Shape,this.rect.graphics.beginFill(0,.6),this.rect.graphics.drawRect(0,0,this.width,this.height),this.rect.graphics.endFill(),this.addChild(this.rect)},e}(DisplayScrollerScene);egret.registerClass(BlackRcet,"BlackRcet");var DisplayScene=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.setFullScreen=function(){this.scaleX=this.scaleY=Math.max(GameConfig.curWidth()/this.width,GameConfig.curHeight()/this.height)},n.setHorizontalCenter=function(t){return t.x=.5*(this.width-t.width*t.scaleX),new egret.Point(t.x,t.y)},n.setVerticalCenter=function(t){return t.y=.5*(this.height-t.height*t.scaleY),new egret.Point(t.x,t.y)},e}(egret.DisplayObjectContainer);egret.registerClass(DisplayScene,"DisplayScene");var GameScene=function(t){function e(){t.call(this),this.uiLayer=new egret.DisplayObjectContainer,this.topLayer=new egret.DisplayObjectContainer,this.effectLayer=new egret.DisplayObjectContainer,this.mainUILayer=new egret.DisplayObjectContainer,this.maskLayer=new egret.DisplayObjectContainer,this.rotationTipsLayer=new egret.DisplayObjectContainer,this.init()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(){this.addChild(this.uiLayer),this.addChild(this.topLayer),this.addChild(this.effectLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.rotationTipsLayer)},e}(egret.DisplayObjectContainer);egret.registerClass(GameScene,"GameScene");var PanelManager;!function(t){function e(){}function i(){}function n(){}function s(){}function r(){null!=this.gamePanel&&(PopUpManager.removePopUp(this.gamePanel,3),this.gamePanel=null)}function a(){}function o(){}t.initPanel=e,t.openStartPanel=i,t.closeStartPanel=n,t.openGamePanel=s,t.closeGamePanel=r,t.openGameOverPanel=a,t.closeGameOverPanel=o}(PanelManager||(PanelManager={}));var PopUpManager;!function(t){function e(t,e,i,n,s,r){if(void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=!1),!GameConfig.gameScene().uiLayer.contains(t)){e&&(this.darkSprite=new egret.Sprite,this.darkSprite.graphics.clear(),this.darkSprite.graphics.beginFill(0,.3),this.darkSprite.graphics.drawRect(0,0,GameConfig.curWidth(),GameConfig.curHeight()),this.darkSprite.graphics.endFill(),this.darkSprite.width=GameConfig.curWidth(),this.darkSprite.height=GameConfig.curHeight(),GameConfig.gameScene().uiLayer.contains(this.darkSprite)||GameConfig.gameScene().uiLayer.addChild(this.darkSprite),this.darkSprite.touchEnabled=!0,egret.Tween.get(this.darkSprite).to({alpha:1},150),this.darkSprite.visible=!0),GameConfig.gameScene().uiLayer.addChild(t),GameConfig.curPanel=t,0!=i?(t.x=GameConfig.curWidth()/2-i/2,t.y=GameConfig.curHeight()/2-n/2):(i=t.width,n=t.height);var a=GameConfig.curWidth()/2-i/2,o=GameConfig.curHeight()/2-n/2;switch(s){case 0:break;case 1:t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x=t.x+i/4,t.y=t.y+n/4,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:t.x-i/4,y:t.y-n/4},300,egret.Ease.backOut);break;case 2:t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x=t.x+i/4,t.y=t.y+n/4,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:t.x-i/4,y:t.y-n/4},600,egret.Ease.elasticOut);break;case 3:r?(t.x=-i,egret.Tween.get(t).to({x:a},500,egret.Ease.cubicOut)):(t.x=-i,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut));break;case 4:r?(t.x=i,egret.Tween.get(t).to({x:a},500,egret.Ease.cubicOut)):(t.x=i,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut));break;case 5:r?(t.y=-n,egret.Tween.get(t).to({y:o},500,egret.Ease.cubicOut)):(t.y=-n,egret.Tween.get(t).to({y:0},500,egret.Ease.cubicOut));break;case 6:r?(t.y=GameConfig.curHeight(),egret.Tween.get(t).to({y:o},500,egret.Ease.cubicOut)):(t.y=n,egret.Tween.get(t).to({y:0},500,egret.Ease.cubicOut))}}}function i(t,e){void 0===e&&(e=0);var i=function(){GameConfig.gameScene().uiLayer.contains(this.darkSprite)&&GameConfig.gameScene().uiLayer.removeChild(this.darkSprite)};switch(this.darkSprite&&egret.Tween.get(this.darkSprite).to({alpha:0},100).call(i,this),e){case 0:break;case 1:egret.Tween.get(t).to({alpha:0,scaleX:0,scaleY:0,x:t.x+t.getWidth()/2,y:t.y+t.getHeight()/2},300);break;case 2:break;case 3:egret.Tween.get(t).to({x:t.getWidth()},500,egret.Ease.cubicOut);break;case 4:egret.Tween.get(t).to({x:-t.getWidth()},500,egret.Ease.cubicOut);break;case 5:egret.Tween.get(t).to({y:t.getHeight()},500,egret.Ease.cubicOut);break;case 6:egret.Tween.get(t).to({y:-t.getHeight()},500,egret.Ease.cubicOut)}egret.setTimeout(function(){GameConfig.gameScene().uiLayer.contains(t)&&GameConfig.gameScene().uiLayer.removeChild(t)},this,500)}t.addPopUp=e,t.removePopUp=i}(PopUpManager||(PopUpManager={}));var StageUtil=function(){function t(){}var e=(__define,t);e.prototype;return t.setHorizontalCenter=function(t){return t.x=.5*(GameConfig.curWidth()-t.width*t.scaleX),new egret.Point(t.x,t.y)},t.setVerticalCenter=function(t){return t.y=.5*(GameConfig.curHeight()-t.height*t.scaleY),new egret.Point(t.x,t.y)},t}();egret.registerClass(StageUtil,"StageUtil");var UIBitmapDisplay=function(t){function e(e){void 0===e&&(e=""),t.call(this),""!=e&&this.setBitmapByName(e)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.setBitmapByName=function(t){var e=RES.getRes(t);return this.texture=e,this.texture},n.setBitmapByTexture=function(t){this.texture=t},n.load=function(t){var e=new egret.URLLoader;e.dataFormat=egret.URLLoaderDataFormat.TEXTURE,e.addEventListener(egret.Event.COMPLETE,this.loadComplete,this),e.load(new egret.URLRequest(t))},n.loadComplete=function(t){var e=t.target;this.texture=e.data},n.dispose=function(){if(this.texture){var t=this.texture;t.dispose()}},n.setFullScreen=function(){this.scaleX=this.scaleY=Math.max(GameConfig.curWidth()/this.width,GameConfig.curHeight()/this.height)},e}(eui.Image);egret.registerClass(UIBitmapDisplay,"UIBitmapDisplay");var DataEvent=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=(__define,e);i.prototype;return e.GAMEOVER="gameover",e.RETRYGAME="retrygame",e}(egret.Event);egret.registerClass(DataEvent,"DataEvent");var MaskScene=function(t){function e(){t.call(this),this.xyArr=new Array,this.createScnen()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createScnen=function(){this.width=640,this.height=1030,this.bg=new BitmapDisplay("test5"),this.addChild(this.bg),this.bg.touchEnabled=!0,this.bg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.maskLcation,this),this.setFullScreen()},n.maskLcation=function(t){var e=Math.floor(t.localX),i=Math.floor(t.localY);console.log("x"+e+"y"+i)},e}(DisplayScene);egret.registerClass(MaskScene,"MaskScene");var ResultView=function(t){function e(){t.call(this),this.typeNum=0,this.createScene()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createScene=function(){this.width=640,this.height=1030,this.blackRect=new BlackRcet,this.addChild(this.blackRect),this.bg=new BitmapDisplay,this.addChild(this.bg),this.text=new BitmapDisplay,this.text.y=500,this.okBut=new BitmapDisplay,this.okBut.touchEnabled=!0,this.okBut.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)
},n.setScene=function(t){switch(t){case 1:this.bg.setBitmapByName("rule"),this.okBut.setBitmapByName("okBut"),this.setHorizontalCenter(this.okBut),this.okBut.name="1",this.okBut.y=680;break;case 2:this.bg.setBitmapByName("resultBg"),this.text.setBitmapByName("success"),this.addChild(this.text),this.okBut.setBitmapByName("getPize"),this.setHorizontalCenter(this.okBut),this.okBut.name="2",this.okBut.y=750;break;case 3:this.bg.setBitmapByName("resultBg"),this.text.setBitmapByName("fail"),this.addChild(this.text),this.okBut.setBitmapByName("retryBut"),this.setHorizontalCenter(this.okBut),this.okBut.name="3",this.okBut.y=750}this.setHorizontalCenter(this.bg),this.setVerticalCenter(this.bg),this.setHorizontalCenter(this.text),this.addChild(this.okBut)},n.touchHandle=function(t){var e=parseInt(t.target.name);switch(e){case 1:SceneUtil.changeScene(2);break;case 2:alert(2);break;case 3:Global.dispatchEvent(DataEvent.RETRYGAME,this)}},e}(DisplayScene);egret.registerClass(ResultView,"ResultView");var Scene1=function(t){function e(){t.call(this),this.bitmapText=new egret.BitmapText,this.pointarrA=new Array,this.pointarrB=new Array,this.score=0,RES.getResByUrl("resource/assets/numbertxt.fnt",this.onLoadComplete,this,RES.ResourceItem.TYPE_FONT),this.createScnen()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.onLoadComplete=function(t){this.bitmapText.font=t,this.group.addChild(this.bitmapText),this.bitmapText.x=500,this.bitmapText.y=180},n.createScnen=function(){this.width=640,this.height=1030,this.bg1=new UIBitmapDisplay,this.bg1.setBitmapByName("bg"),this.group.addChild(this.bg1),this.timeClock=new TimeClock,this.group.addChild(this.timeClock),this.timeClock.y=180,this.timeClock.x=140,this.picA=new BitmapDisplay,this.picA.x=this.width/2,this.picA.y=430,this.picA.touchEnabled=!0,this.picA.addEventListener(egret.TouchEvent.TOUCH_TAP,this.cutTime,this),this.group.addChild(this.picA),this.picB=new BitmapDisplay,this.picB.x=this.width/2,this.picB.y=800,this.picB.touchEnabled=!0,this.picB.addEventListener(egret.TouchEvent.TOUCH_TAP,this.cutTime,this),this.group.addChild(this.picB),this.picMaskA=new BitmapDisplay("picMask"),this.picMaskA.anchorOffsetX=this.picMaskA.width/2,this.picMaskA.anchorOffsetY=this.picMaskA.height/2,this.picMaskA.x=this.picA.x,this.picMaskA.y=this.picA.y,this.group.addChild(this.picMaskA),this.picMaskB=new BitmapDisplay("picMask"),this.picMaskB.anchorOffsetX=this.picMaskB.width/2,this.picMaskB.anchorOffsetY=this.picMaskB.height/2,this.picMaskB.x=this.picB.x,this.picMaskB.y=this.picB.y,this.group.addChild(this.picMaskB);for(var t=0;t<GameSeting.maxTouchNum;t++){var e=new BitmapDisplay("circle");GameSeting.getInstance().setCenter(e,0),this.pointarrA.push(e);var i=new BitmapDisplay("circle");GameSeting.getInstance().setCenter(i,0),this.pointarrB.push(i),e.alpha=0,i.alpha=0,e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)}this.bitmapText.text="0/1",this.pass=new BitmapDisplay("pass"),this.pass.scaleX=this.pass.scaleY=0,this.pass.x=170,this.pass.y=500,this.group.addChildAt(this.pass,99),this.resultView=new ResultView,this.setHorizontalCenter(this.resultView),this.setVerticalCenter(this.resultView),this.chapterSeting(),this.setFullScreen(),this.setViewRect(),Global.addEventListener(DataEvent.GAMEOVER,this.gameOverHandle,this),Global.addEventListener(DataEvent.RETRYGAME,this.retry,this)},n.chapterSeting=function(){var t=GameSeting.chapterNum;this.bitmapText.text=this.score.toString()+"/"+GameSeting.chapterNum.toString();var e=GameSeting.getInstance().pointLocation(t);this.picA.setBitmapByName(t+"a"),this.picB.setBitmapByName(t+"b"),GameSeting.getInstance().setCenter(this.picA,1),GameSeting.getInstance().setCenter(this.picB,1);for(var i=50,n=290,s=0;t>s;s++)this.pointarrA[s].x=e[s].x+i,this.pointarrA[s].y=e[s].y+n,this.pointarrA[s].name=s.toString(),this.group.addChild(this.pointarrA[s]),this.pointarrA[s].touchEnabled=!0,this.pointarrB[s].x=this.pointarrA[s].x,this.pointarrB[s].y=this.pointarrA[s].y+this.picA.height+45,this.pointarrB[s].name=s.toString(),this.group.addChild(this.pointarrB[s]),this.pointarrB[s].touchEnabled=!0},n.touchHandle=function(t){console.log("touchHandle");var e=parseInt(t.target.name);this.pointarrA[e].touchEnabled=!1,this.pointarrB[e].touchEnabled=!1,this.pointarrA[e].alpha=1,this.pointarrB[e].alpha=1,this.pointHandle(e)},n.pointHandle=function(t){console.log("pointHandle"),this.score++,console.log(this.score),this.bitmapText.text=this.score.toString()+"/"+GameSeting.chapterNum.toString(),this.score==GameSeting.chapterNum&&egret.setTimeout(function(){this.cheakPass(this.score)},this,500)},n.cheakPass=function(t){switch(console.log("cheakPass"),t){case 1:this.timeClock.stopClock(),this.group.addChild(this.resultView),this.resultView.setScene(2),this.setPicTouch(0);break;case GameSeting.chapterNum:this.group.addChild(this.pass),egret.Tween.get(this.pass).to({scaleX:.7,scaleY:.7},500,egret.Ease.backInOut).wait(400).call(function(){this.reset(),egret.setTimeout(this.chapterPass,this,300)},this);break;case 99:GameSeting.chapterNum>0&&(this.timeClock.stopClock(),this.group.addChild(this.resultView),this.resultView.setScene(3),this.setPicTouch(0))}},n.reset=function(){console.log("reset"),this.score=0;for(var t=0;t<GameSeting.maxTouchNum;t++)this.pointarrA[t].alpha=0,this.pointarrB[t].alpha=0,egret.Tween.removeTweens(this.pointarrA[t]),this.pointarrB[t].touchEnabled=!1,this.contains(this.pointarrA[t])&&this.group.removeChild(this.pointarrA[t]),this.contains(this.pointarrB[t])&&this.group.removeChild(this.pointarrB[t]);this.pass.scaleX=this.pass.scaleY=0},n.retry=function(){this.reset(),GameSeting.chapterNum=5,GameSeting.getInstance().pointLocation(6),this.chapterSeting(),this.bitmapText.text="0/5",this.timeClock.resetTime(),this.group.removeChild(this.resultView),this.setPicTouch(1)},n.chapterPass=function(){console.log("chapterPass"),GameSeting.chapterNum--,this.chapterSeting()},n.gameOverHandle=function(){this.cheakPass(99)},n.cutTime=function(){ShockUtils.getInstance().shock(ShockUtils.getInstance().SPRITE,this),this.timeClock.cutTime()},n.setPicTouch=function(t){switch(t){case 0:this.picA.touchEnabled=!1,this.picB.touchEnabled=!1;break;case 1:this.picA.touchEnabled=!0,this.picB.touchEnabled=!0}},e}(DisplayScrollerScene);egret.registerClass(Scene1,"Scene1");var SharePanel=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initPanel=function(){this.bg=new egret.Bitmap,this.bg.texture=this.assets.getTexture("bg"),this.addChild(this.bg),this.bg.touchEnabled=!0,this.startBtn=new egret.Bitmap,this.startBtn.texture=this.assets.getTexture("startBtn"),this.startBtn.x=this.w/2-this.startBtn.width/2,this.startBtn.y=this.h/2-this.startBtn.height/2,this.addChild(this.startBtn),this.startBtn.touchEnabled=!0,this.startBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onStartBtnTouchTap,this)},n.onStartBtnTouchTap=function(t){Global.dispatchEvent(MainNotify.openGamePanelNotify,null,!1),Global.dispatchEvent(MainNotify.closeStartPanelNotify,null,!1)},e}(BasePanel);egret.registerClass(SharePanel,"SharePanel");var StartScene=function(t){function e(){t.call(this),this.createScnen()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createScnen=function(){this.width=640,this.height=1030,this.bg=new BitmapDisplay("startBg"),this.group.addChild(this.bg),this.startBut=new BitmapDisplay("startBut"),GameSeting.getInstance().setCenter(this.startBut,1),this.startBut.y=820,this.group.addChild(this.startBut),this.startBut.touchEnabled=!0,this.startBut.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this),this.resultView=new ResultView,this.setFullScreen(),this.setViewRect(),egret.Tween.get(this.startBut,{loop:!0}).to({scaleX:1.1,scaleY:1.1},500).to({rotation:10},150).to({rotation:-10},150).to({rotation:10},150).to({rotation:0},150).to({scaleX:1,scaleY:1},300).wait(800)},n.touchHandle=function(){egret.Tween.removeTweens(this.startBut),this.resultView.setScene(1),this.group.addChild(this.resultView),this.setHorizontalCenter(this.resultView),this.setVerticalCenter(this.resultView)},e}(DisplayScrollerScene);egret.registerClass(StartScene,"StartScene");var TimeClock=function(t){function e(){t.call(this),this.timenum=0,this.num=0,this.createScene()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createScene=function(){this.navBg=new BitmapDisplay("navbg"),this.addChild(this.navBg),this.nav=new BitmapDisplay("nav"),this.nav.y=8,this.nav.x=-this.nav.width-1,this.addChild(this.nav),this.mask1=new BitmapDisplay("nav"),this.mask1.y=8,this.mask1.x=9,this.addChild(this.mask1),this.nav.mask=this.mask1,this.startClock(),this.clock=new BitmapDisplay("clock"),this.clock.x=-55,this.clock.y=15,GameSeting.getInstance().setCenter(this.clock,0),this.addChild(this.clock)},n.startClock=function(){this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this)},n.stopClock=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameHandler,this)},n.onEnterFrameHandler=function(){this.nav.x+=this.nav.width/3600,this.num++,this.num>30&&(this.num=0,this.timenum++,this.timenum>100&&this.clockTw(),this.timenum>120&&Global.dispatchEvent(DataEvent.GAMEOVER,this))},n.resetTime=function(){this.nav.x=-this.nav.width-1,this.num=0,this.timenum=0,this.startClock()},n.cutTime=function(){this.timenum+=3,console.log(this.timenum),this.nav.x+=90*(this.nav.width/900)},n.clockTw=function(){egret.Tween.get(this.clock).to({scaleX:1.2,scaleY:1.2},300).to({rotation:10},100).to({rotation:-10},100).to({rotation:10},100).to({rotation:0},100).to({scaleX:1,scaleY:1},300)},e}(DisplayScene);egret.registerClass(TimeClock,"TimeClock");